{"ast":null,"code":"import React,{useCallback,useEffect,useMemo,useRef,useState}from\"react\";import axios from\"axios\";import\"./App.css\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const api=axios.create({baseURL:\"https://api.quizbowl.game-manager.org\"});function useInterval(callback,delay){const savedCallback=useRef();useEffect(()=>{savedCallback.current=callback;},[callback]);useEffect(()=>{if(delay===null){return;}const id=setInterval(()=>{if(savedCallback.current){savedCallback.current();}},delay);return()=>clearInterval(id);},[delay]);}function App(){var _game$teamAScore,_game$questionNumber,_game$teamBScore;const[page,setPage]=useState(\"control\");const gameId=\"default\";const[game,setGame]=useState(null);const[loadingGame,setLoadingGame]=useState(false);const[bracket,setBracket]=useState(null);const[loadingBracket,setLoadingBracket]=useState(false);const[editingNames,setEditingNames]=useState(false);const[teamAInput,setTeamAInput]=useState(\"Team A\");const[teamBInput,setTeamBInput]=useState(\"Team B\");const[timerMode,setTimerMode]=useState(\"tossup\");const[timerSeconds,setTimerSeconds]=useState(7);const[timerRunning,setTimerRunning]=useState(false);const[bracketNamesText,setBracketNamesText]=useState(\"\");const[pairTeamAId,setPairTeamAId]=useState(\"\");const[pairTeamBId,setPairTeamBId]=useState(\"\");const[authToken,setAuthToken]=useState(()=>localStorage.getItem(\"authToken\")||\"\");const[authRole,setAuthRole]=useState(()=>localStorage.getItem(\"authRole\")||\"\");const[authUsername,setAuthUsername]=useState(()=>localStorage.getItem(\"authUsername\")||\"\");const[authEmail,setAuthEmail]=useState(\"\");const[authView,setAuthView]=useState(\"login\");const[loginUsername,setLoginUsername]=useState(\"\");const[loginPassword,setLoginPassword]=useState(\"\");const[registerUsername,setRegisterUsername]=useState(\"\");const[registerPassword,setRegisterPassword]=useState(\"\");const[authError,setAuthError]=useState(\"\");const[playerTeamId,setPlayerTeamId]=useState(\"\");const correctRef=useRef(null);const bonusRef=useRef(null);const timerEndRef=useRef(null);const adminHeaders=()=>authToken?{\"X-Admin-Token\":authToken}:{};const fetchGame=useCallback(async()=>{try{setLoadingGame(true);const res=await api.get(\"/api/game\",{params:{gameId}});setGame(res.data);if(!editingNames){setTeamAInput(res.data.teamAName);setTeamBInput(res.data.teamBName);}}catch(err){// no-op for now\n}finally{setLoadingGame(false);}},[editingNames,gameId]);const fetchBracket=useCallback(async()=>{try{setLoadingBracket(true);const res=await api.get(\"/api/bracket\");setBracket(res.data);}catch(err){// no-op\n}finally{setLoadingBracket(false);}},[]);useEffect(()=>{fetchGame();fetchBracket();},[fetchGame,fetchBracket,gameId]);useEffect(()=>{if(authRole!==\"ADMIN\"){setPage(\"bracket\");}},[authRole]);useInterval(()=>{fetchGame();fetchBracket();},1200);useInterval(()=>{setTimerSeconds(prev=>{if(!timerRunning){return prev;}const next=prev-1;if(next<=0){if(timerRunning){setTimerRunning(false);}if(timerEndRef.current){timerEndRef.current.currentTime=0;timerEndRef.current.play();}return 0;}return next;});},timerRunning?1000:null);useEffect(()=>{if(bracket&&bracket.teams){const available=bracket.teams.filter(t=>!t.eliminated);if(!pairTeamAId&&available[0]){setPairTeamAId(available[0].id);}if(!pairTeamBId&&available[1]){setPairTeamBId(available[1].id);}}},[bracket,pairTeamAId,pairTeamBId]);const startTimerWithMode=mode=>{setTimerMode(mode);setTimerSeconds(mode===\"bonus\"?20:7);setTimerRunning(true);};const pauseTimer=()=>{setTimerRunning(false);};const resetTimer=()=>{setTimerRunning(false);setTimerSeconds(timerMode===\"bonus\"?20:7);};const timerProgress=()=>{const total=timerMode===\"bonus\"?20:7;return Math.max(0,Math.min(1,timerSeconds/total));};const awardTossup=async team=>{await api.post(\"/api/game/award-tossup\",{team},{params:{gameId},headers:adminHeaders()});if(correctRef.current){correctRef.current.currentTime=0;correctRef.current.play();}fetchGame();};const awardBonus=async()=>{await api.post(\"/api/game/award-bonus\",{points:10},{params:{gameId},headers:adminHeaders()});if(bonusRef.current){bonusRef.current.currentTime=0;bonusRef.current.play();}fetchGame();};const handleNextTossup=async()=>{await api.post(\"/api/game/next-tossup\",null,{params:{gameId},headers:adminHeaders()});setTimerMode(\"tossup\");setTimerSeconds(7);setTimerRunning(false);fetchGame();};const handleResetGame=async()=>{try{await api.post(\"/api/game/reset\",null,{params:{gameId},headers:adminHeaders()});await api.post(\"/api/bracket/reset\",null,{headers:adminHeaders()});setTimerMode(\"tossup\");setTimerSeconds(7);setTimerRunning(false);setPairTeamAId(\"\");setPairTeamBId(\"\");setPlayerTeamId(\"\");setBracketNamesText(\"\");setAuthError(\"\");fetchGame();fetchBracket();}catch(err){var _err$response,_err$response$data;const message=(err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Unable to reset game (are you logged in as admin?)\";setAuthError(message);}};const handleSaveNames=async()=>{await api.post(\"/api/game/team-names\",{teamAName:teamAInput,teamBName:teamBInput},{params:{gameId},headers:adminHeaders()});setEditingNames(false);fetchGame();};const initBracket=async()=>{const names=bracketNamesText.split(\"\\n\").map(n=>n.trim()).filter(n=>n.length>0);await api.post(\"/api/bracket/init\",{teamNames:names},{headers:adminHeaders()});fetchBracket();};const resetBracket=async()=>{await api.post(\"/api/bracket/reset\",null,{headers:adminHeaders()});setPairTeamAId(\"\");setPairTeamBId(\"\");fetchBracket();};const pushPairingToGame=async()=>{if(!pairTeamAId||!pairTeamBId)return;await api.post(\"/api/bracket/set-current\",{teamAId:pairTeamAId,teamBId:pairTeamBId},{params:{gameId},headers:adminHeaders()});await fetchBracket();await fetchGame();};const finalizeCurrentMatch=async()=>{await api.post(\"/api/bracket/finalize-current\",null,{params:{gameId},headers:adminHeaders()});await fetchBracket();};const getTeamName=useCallback(id=>{if(!bracket||!bracket.teams)return\"\";const team=bracket.teams.find(t=>t.id===id);return team?team.name:\"\";},[bracket]);const history=useMemo(()=>{const items=(game===null||game===void 0?void 0:game.history)||[];return[...items].reverse();},[game]);const renderTree=bracketName=>{if(!bracket)return null;const matches=(bracket.matches||[]).filter(m=>m.bracket===bracketName);const byRound={};matches.forEach(m=>{if(!byRound[m.round])byRound[m.round]=[];byRound[m.round].push(m);});const rounds=Object.keys(byRound).map(n=>parseInt(n,10)).sort((a,b)=>a-b);return/*#__PURE__*/_jsx(\"div\",{className:\"bracket-tree\",children:rounds.map(round=>/*#__PURE__*/_jsxs(\"div\",{className:\"bracket-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bracket-col-title\",children:[\"Round \",round]}),byRound[round].map(m=>/*#__PURE__*/_jsxs(\"div\",{className:\"match-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"match-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:getTeamName(m.teamAId)}),/*#__PURE__*/_jsx(\"span\",{className:\"score-pill\",children:m.scoreA!==null&&m.scoreA!==undefined?m.scoreA:\"-\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"match-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:getTeamName(m.teamBId)}),/*#__PURE__*/_jsx(\"span\",{className:\"score-pill\",children:m.scoreB!==null&&m.scoreB!==undefined?m.scoreB:\"-\"})]}),m.winnerId&&/*#__PURE__*/_jsxs(\"div\",{className:\"winner-line\",children:[\"Winner: \",/*#__PURE__*/_jsx(\"strong\",{children:getTeamName(m.winnerId)})]})]},m.id))]},\"\".concat(bracketName,\"-\").concat(round)))});};const winnersList=((bracket===null||bracket===void 0?void 0:bracket.teams)||[]).filter(t=>!t.eliminated&&t.losses===0);const losersList=((bracket===null||bracket===void 0?void 0:bracket.teams)||[]).filter(t=>!t.eliminated&&t.losses===1);const eliminatedList=((bracket===null||bracket===void 0?void 0:bracket.teams)||[]).filter(t=>t.eliminated);const timerTotal=timerMode===\"bonus\"?20:7;const radius=70;const circumference=2*Math.PI*radius;const progress=timerProgress();const offset=circumference*(1-progress);const stroke=progress>0.5?\"#4ade80\":progress>0.25?\"#fbbf24\":\"#fb923c\";const handleLogin=async()=>{try{const res=await api.post(\"/api/auth/login\",{username:loginUsername,password:loginPassword});setAuthToken(res.data.token);setAuthRole(res.data.role);setAuthUsername(res.data.username);localStorage.setItem(\"authToken\",res.data.token);localStorage.setItem(\"authRole\",res.data.role);localStorage.setItem(\"authUsername\",res.data.username);setAuthError(\"\");}catch(err){var _err$response2,_err$response2$data;const message=(err===null||err===void 0?void 0:(_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||\"Invalid username or password\";setAuthError(message);}};const handleRegister=async()=>{try{const res=await api.post(\"/api/auth/register\",{username:registerUsername,password:registerPassword});setAuthToken(res.data.token);setAuthRole(res.data.role);setAuthUsername(res.data.username);localStorage.setItem(\"authToken\",res.data.token);localStorage.setItem(\"authRole\",res.data.role);localStorage.setItem(\"authUsername\",res.data.username);setAuthView(\"login\");setAuthError(\"\");}catch(err){var _err$response3,_err$response3$data;const message=(err===null||err===void 0?void 0:(_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||\"Registration failed\";setAuthError(message);}};const handleProfileUpdate=async(newUsername,newPassword)=>{try{const res=await api.post(\"/api/auth/update-profile\",{newUsername,newPassword},{headers:adminHeaders()});setAuthUsername(res.data.username);setAuthRole(res.data.role);localStorage.setItem(\"authUsername\",res.data.username);localStorage.setItem(\"authRole\",res.data.role);setAuthError(\"Profile updated\");}catch(err){var _err$response4,_err$response4$data;const message=(err===null||err===void 0?void 0:(_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.message)||\"Update failed\";setAuthError(message);}};const handleLogout=()=>{setAuthToken(\"\");setAuthRole(\"\");setAuthUsername(\"\");localStorage.removeItem(\"authToken\");localStorage.removeItem(\"authRole\");localStorage.removeItem(\"authUsername\");};const nextMatchForTeam=teamId=>{if(!bracket||!teamId)return null;const pending=(bracket.matches||[]).find(m=>!m.completed&&(m.teamAId===teamId||m.teamBId===teamId));if(pending){return{bracket:pending.bracket,round:pending.round,opponent:pending.teamAId===teamId?getTeamName(pending.teamBId):getTeamName(pending.teamAId)};}const suggestedWin=(bracket.suggestedWinnersPairs||[]).find(p=>p.teamAId===teamId||p.teamBId===teamId);if(suggestedWin){const opponent=suggestedWin.teamAId===teamId?getTeamName(suggestedWin.teamBId):getTeamName(suggestedWin.teamAId);return{bracket:\"WINNERS\",round:\"TBD\",opponent,status:\"Awaiting winners pairing\"};}const suggestedLose=(bracket.suggestedLosersPairs||[]).find(p=>p.teamAId===teamId||p.teamBId===teamId);if(suggestedLose){const opponent=suggestedLose.teamAId===teamId?getTeamName(suggestedLose.teamBId):getTeamName(suggestedLose.teamAId);return{bracket:\"LOSERS\",round:\"TBD\",opponent,status:\"Awaiting losers pairing\"};}const team=(bracket.teams||[]).find(t=>t.id===teamId);if(team!==null&&team!==void 0&&team.eliminated){return{status:\"Eliminated\"};}if(bracket.finished){return{status:\"Bracket finished\"};}return{status:\"Waiting for scheduling\"};};const viewerNextMatch=nextMatchForTeam(playerTeamId);const isAdmin=authRole===\"ADMIN\";if(!authToken){return/*#__PURE__*/_jsx(\"div\",{className:\"auth-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-toggle\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab \".concat(authView===\"login\"?\"active\":\"\"),onClick:()=>setAuthView(\"login\"),children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab \".concat(authView===\"register\"?\"active\":\"\"),onClick:()=>setAuthView(\"register\"),children:\"Register\"})]}),authView===\"login\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome back\"}),/*#__PURE__*/_jsx(\"p\",{className:\"muted\",children:\"Admins sign in; players use their own account.\"}),/*#__PURE__*/_jsx(\"input\",{value:loginUsername,onChange:e=>setLoginUsername(e.target.value),placeholder:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:loginPassword,onChange:e=>setLoginPassword(e.target.value),placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn primary\",onClick:handleLogin,children:\"Sign in\"})]}):authView===\"register\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create your account\"}),/*#__PURE__*/_jsx(\"input\",{value:registerUsername,onChange:e=>setRegisterUsername(e.target.value),placeholder:\"Choose username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:registerPassword,onChange:e=>setRegisterPassword(e.target.value),placeholder:\"Choose password\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn primary\",onClick:handleRegister,children:\"Register & continue\"})]}):null,authError&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-error\",children:authError})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:\"Quizbowl Control\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-chip\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"auth-name\",children:authUsername||\"user\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-role\",children:[\"(\",isAdmin?\"Administrator\":\"Viewer\",\")\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn ghost small-btn\",onClick:()=>handleProfileUpdate(prompt(\"New username (leave blank to keep)\",\"\"),prompt(\"New password (leave blank to keep)\",\"\")),children:\"Update profile\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn ghost\",onClick:handleLogout,children:\"Logout\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tabs\",children:[isAdmin&&/*#__PURE__*/_jsx(\"button\",{className:\"tab \".concat(page===\"control\"?\"active\":\"\"),onClick:()=>setPage(\"control\"),children:\"Control\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab \".concat(page===\"bracket\"?\"active\":\"\"),onClick:()=>setPage(\"bracket\"),children:\"Bracket\"})]})]})]}),page===\"control\"&&isAdmin&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control-layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card timer-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Timer & Flow\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"chip-row\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"chip \".concat(timerMode===\"tossup\"?\"active\":\"\"),onClick:()=>{setTimerMode(\"tossup\");setTimerSeconds(7);setTimerRunning(false);},children:\"Tossup (7s)\"}),/*#__PURE__*/_jsx(\"button\",{className:\"chip \".concat(timerMode===\"bonus\"?\"active\":\"\"),onClick:()=>{setTimerMode(\"bonus\");setTimerSeconds(20);setTimerRunning(false);},children:\"Bonus (20s)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timer-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"timer-visual\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"timer-ring\",children:[/*#__PURE__*/_jsxs(\"svg\",{height:\"180\",width:\"180\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"90\",cy:\"90\",r:radius,stroke:\"#1f2a44\",strokeWidth:\"10\",fill:\"none\",className:\"timer-track\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"90\",cy:\"90\",r:radius,stroke:stroke,strokeWidth:\"10\",fill:\"none\",strokeDasharray:circumference,strokeDashoffset:offset,transform:\"rotate(-90 90 90)\",strokeLinecap:\"round\",className:\"timer-progress\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timer-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"timer-value\",children:[timerSeconds,\"s\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timer-mode-label\",children:[timerMode===\"bonus\"?\"Bonus\":\"Tossup\",\" timer\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timer-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn primary\",onClick:()=>startTimerWithMode(timerMode),disabled:!isAdmin,children:\"Start\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn ghost\",onClick:pauseTimer,disabled:!isAdmin,children:\"Pause\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn ghost\",onClick:resetTimer,disabled:!isAdmin,children:\"Reset\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timer-side\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"muted\",children:\"Use Tossup/Bonus chips to load durations.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"muted\",children:\"Start resets to the full length for the selected mode. Pause halts countdown.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"muted\",children:\"Next Tossup will also clear the timer back to 7 seconds.\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card scoreboard-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"scoreboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"team-block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"team-heading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"dot dot-a\"}),editingNames?/*#__PURE__*/_jsx(\"input\",{value:teamAInput,onChange:e=>setTeamAInput(e.target.value)}):/*#__PURE__*/_jsx(\"span\",{className:\"team-name\",children:(game===null||game===void 0?void 0:game.teamAName)||\"Team A\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"team-score\",children:(_game$teamAScore=game===null||game===void 0?void 0:game.teamAScore)!==null&&_game$teamAScore!==void 0?_game$teamAScore:0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"center-block\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"question-label\",children:\"Question\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"question-number\",children:[\"#\",(_game$questionNumber=game===null||game===void 0?void 0:game.questionNumber)!==null&&_game$questionNumber!==void 0?_game$questionNumber:1]}),/*#__PURE__*/_jsxs(\"div\",{className:\"center-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn primary\",onClick:handleNextTossup,disabled:!isAdmin,children:\"Next tossup\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn ghost\",onClick:handleResetGame,disabled:!isAdmin,children:\"Reset game\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-row\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"chip small \".concat(editingNames?\"active\":\"\"),onClick:()=>setEditingNames(v=>!v),children:editingNames?\"Editing…\":\"Edit names\"}),editingNames&&/*#__PURE__*/_jsx(\"button\",{className:\"btn primary\",onClick:handleSaveNames,children:\"Save names\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"team-block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"team-heading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"dot dot-b\"}),editingNames?/*#__PURE__*/_jsx(\"input\",{value:teamBInput,onChange:e=>setTeamBInput(e.target.value)}):/*#__PURE__*/_jsx(\"span\",{className:\"team-name\",children:(game===null||game===void 0?void 0:game.teamBName)||\"Team B\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"team-score\",children:(_game$teamBScore=game===null||game===void 0?void 0:game.teamBScore)!==null&&_game$teamBScore!==void 0?_game$teamBScore:0})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-bottom-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card scoring-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Scoring\"}),/*#__PURE__*/_jsx(\"span\",{className:\"muted\",children:\"Live actions feed the history log.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"scoring-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-label\",children:\"Tossups\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-row\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn primary wide\",onClick:()=>awardTossup(\"A\"),disabled:!isAdmin,children:[\"Tossup +10 \\u2192 \",(game===null||game===void 0?void 0:game.teamAName)||\"Team A\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn primary wide\",onClick:()=>awardTossup(\"B\"),disabled:!isAdmin,children:[\"Tossup +10 \\u2192 \",(game===null||game===void 0?void 0:game.teamBName)||\"Team B\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"scoring-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-label\",children:\"Bonus\"}),/*#__PURE__*/_jsx(\"div\",{className:\"action-row\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn bonus wide\",disabled:!(game!==null&&game!==void 0&&game.lastTossupWinner)||!isAdmin,onClick:awardBonus,children:(game===null||game===void 0?void 0:game.lastTossupWinner)===\"A\"?\"Bonus +10 \\u2192 \".concat((game===null||game===void 0?void 0:game.teamAName)||\"Team A\"):(game===null||game===void 0?void 0:game.lastTossupWinner)===\"B\"?\"Bonus +10 \\u2192 \".concat((game===null||game===void 0?void 0:game.teamBName)||\"Team B\"):\"Bonus +10 (await tossup)\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"muted small-text\",children:\"Bonus always goes to whoever got the last tossup. If no tossup, no bonus.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card history-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recent history\"}),loadingGame&&/*#__PURE__*/_jsx(\"span\",{className:\"muted\",children:\"Syncing\\u2026\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"history-list\",children:[history.map((ev,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"history-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"history-type\",children:ev.type}),/*#__PURE__*/_jsx(\"div\",{className:\"history-desc\",children:ev.description}),/*#__PURE__*/_jsx(\"div\",{className:\"history-time\",children:new Date(ev.timestamp).toLocaleTimeString()})]},\"\".concat(ev.timestamp,\"-\").concat(idx))),history.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"muted\",children:\"No events yet.\"})]})]})]})]}),page===\"bracket\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"bracket-layout\",children:[isAdmin&&(!(bracket!==null&&bracket!==void 0&&bracket.teams)||(bracket===null||bracket===void 0?void 0:bracket.teams.length)===0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"card setup-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Bracket setup & pairing\"}),loadingBracket&&/*#__PURE__*/_jsx(\"span\",{className:\"muted\",children:\"Loading\\u2026\"})]}),/*#__PURE__*/_jsx(\"textarea\",{className:\"bracket-textarea\",placeholder:\"Enter one team per line\",value:bracketNamesText,onChange:e=>setBracketNamesText(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-row\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn primary\",onClick:initBracket,disabled:!isAdmin,children:\"Initialize bracket\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn ghost\",onClick:resetBracket,disabled:!isAdmin,children:\"Reset bracket\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pair-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pair\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Left scoreboard\"}),/*#__PURE__*/_jsxs(\"select\",{value:pairTeamAId,onChange:e=>setPairTeamAId(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select team\"}),((bracket===null||bracket===void 0?void 0:bracket.teams)||[]).filter(t=>!t.eliminated).map(t=>/*#__PURE__*/_jsx(\"option\",{value:t.id,children:t.name},t.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pair\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Right scoreboard\"}),/*#__PURE__*/_jsxs(\"select\",{value:pairTeamBId,onChange:e=>setPairTeamBId(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select team\"}),((bracket===null||bracket===void 0?void 0:bracket.teams)||[]).filter(t=>!t.eliminated).map(t=>/*#__PURE__*/_jsx(\"option\",{value:t.id,children:t.name},t.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-row\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn primary\",onClick:pushPairingToGame,disabled:!isAdmin,children:\"Push pairing to game\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn ghost\",onClick:finalizeCurrentMatch,disabled:!isAdmin,children:\"Finalize current match\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-chip winners\",children:[\"Winners:\",\" \",winnersList.length?winnersList.map(t=>t.name).join(\", \"):\"—\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-chip losers\",children:[\"Losers:\",\" \",losersList.length?losersList.map(t=>t.name).join(\", \"):\"—\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-chip eliminated\",children:[\"Eliminated:\",\" \",eliminatedList.length?eliminatedList.map(t=>t.name).join(\", \"):\"—\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"suggestions-row\",children:[(bracket===null||bracket===void 0?void 0:bracket.suggestedWinnersTeamAId)&&(bracket===null||bracket===void 0?void 0:bracket.suggestedWinnersTeamBId)&&/*#__PURE__*/_jsxs(\"div\",{className:\"suggestion-pill\",children:[\"Next winners match:\",\" \",/*#__PURE__*/_jsxs(\"strong\",{children:[getTeamName(bracket.suggestedWinnersTeamAId),\" vs\",\" \",getTeamName(bracket.suggestedWinnersTeamBId)]})]}),(bracket===null||bracket===void 0?void 0:bracket.suggestedLosersTeamAId)&&(bracket===null||bracket===void 0?void 0:bracket.suggestedLosersTeamBId)&&/*#__PURE__*/_jsxs(\"div\",{className:\"suggestion-pill\",children:[\"Next losers match:\",\" \",/*#__PURE__*/_jsxs(\"strong\",{children:[getTeamName(bracket.suggestedLosersTeamAId),\" vs\",\" \",getTeamName(bracket.suggestedLosersTeamBId)]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card bracket-card\",children:[isAdmin&&((bracket===null||bracket===void 0?void 0:bracket.teams)||[]).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"inline-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pair\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Left scoreboard\"}),/*#__PURE__*/_jsxs(\"select\",{value:pairTeamAId,onChange:e=>setPairTeamAId(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select team\"}),((bracket===null||bracket===void 0?void 0:bracket.teams)||[]).filter(t=>!t.eliminated).map(t=>/*#__PURE__*/_jsx(\"option\",{value:t.id,children:t.name},t.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pair\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Right scoreboard\"}),/*#__PURE__*/_jsxs(\"select\",{value:pairTeamBId,onChange:e=>setPairTeamBId(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select team\"}),((bracket===null||bracket===void 0?void 0:bracket.teams)||[]).filter(t=>!t.eliminated).map(t=>/*#__PURE__*/_jsx(\"option\",{value:t.id,children:t.name},t.id))]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn primary\",onClick:pushPairingToGame,disabled:!isAdmin,children:\"Push to game\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn ghost\",onClick:finalizeCurrentMatch,disabled:!isAdmin,children:\"Finalize current\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"trees-top-row\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tree-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Winners bracket\"}),/*#__PURE__*/_jsx(\"div\",{className:\"header-line\",children:winnersList.map(t=>t.name).join(\" • \")}),(bracket===null||bracket===void 0?void 0:bracket.suggestedWinnersPairs)&&bracket.suggestedWinnersPairs.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"suggest-list\",children:bracket.suggestedWinnersPairs.map((p,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"suggestion-pill\",children:[getTeamName(p.teamAId),\" vs \",getTeamName(p.teamBId)]},\"w-\".concat(p.teamAId,\"-\").concat(p.teamBId,\"-\").concat(idx)))})]}),renderTree(\"WINNERS\")]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tree-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Losers bracket\"}),/*#__PURE__*/_jsx(\"div\",{className:\"header-line\",children:losersList.map(t=>t.name).join(\" • \")}),(bracket===null||bracket===void 0?void 0:bracket.suggestedLosersPairs)&&bracket.suggestedLosersPairs.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"suggest-list\",children:bracket.suggestedLosersPairs.map((p,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"suggestion-pill\",children:[getTeamName(p.teamAId),\" vs \",getTeamName(p.teamBId)]},\"l-\".concat(p.teamAId,\"-\").concat(p.teamBId,\"-\").concat(idx)))})]}),renderTree(\"LOSERS\")]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"standings\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Standings\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Team\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Losses\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:((bracket===null||bracket===void 0?void 0:bracket.teams)||[]).slice().sort((a,b)=>a.losses-b.losses).map(team=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:team.name}),/*#__PURE__*/_jsx(\"td\",{children:team.losses}),/*#__PURE__*/_jsx(\"td\",{children:team.eliminated?\"Eliminated\":team.losses===0?\"Winners bracket\":\"Losers bracket\"})]},team.id))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"viewer-card card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Player lookup\"}),/*#__PURE__*/_jsxs(\"select\",{value:playerTeamId,onChange:e=>setPlayerTeamId(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select your team\"}),((bracket===null||bracket===void 0?void 0:bracket.teams)||[]).map(t=>/*#__PURE__*/_jsx(\"option\",{value:t.id,children:t.name},t.id))]}),viewerNextMatch?/*#__PURE__*/_jsx(\"div\",{className:\"viewer-info\",children:viewerNextMatch.status?/*#__PURE__*/_jsx(\"div\",{className:\"muted\",children:viewerNextMatch.status}):/*#__PURE__*/_jsxs(\"div\",{children:[\"Next match: \",viewerNextMatch.bracket,\" Round \",viewerNextMatch.round,\" vs\",\" \",viewerNextMatch.opponent||\"TBD\"]})}):/*#__PURE__*/_jsx(\"div\",{className:\"muted\",children:\"No pending matches found yet.\"})]})]}),isAdmin&&/*#__PURE__*/_jsx(\"div\",{className:\"footer-bar\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn ghost\",onClick:handleResetGame,children:\"Reset game\"})}),/*#__PURE__*/_jsx(\"audio\",{ref:correctRef,src:\"/sounds/correct.wav\"}),/*#__PURE__*/_jsx(\"audio\",{ref:bonusRef,src:\"/sounds/bonus.wav\"}),/*#__PURE__*/_jsx(\"audio\",{ref:timerEndRef,src:\"/sounds/timer_end.wav\"})]});}export default App;","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useRef","useState","axios","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","api","create","baseURL","useInterval","callback","delay","savedCallback","current","id","setInterval","clearInterval","App","_game$teamAScore","_game$questionNumber","_game$teamBScore","page","setPage","gameId","game","setGame","loadingGame","setLoadingGame","bracket","setBracket","loadingBracket","setLoadingBracket","editingNames","setEditingNames","teamAInput","setTeamAInput","teamBInput","setTeamBInput","timerMode","setTimerMode","timerSeconds","setTimerSeconds","timerRunning","setTimerRunning","bracketNamesText","setBracketNamesText","pairTeamAId","setPairTeamAId","pairTeamBId","setPairTeamBId","authToken","setAuthToken","localStorage","getItem","authRole","setAuthRole","authUsername","setAuthUsername","authEmail","setAuthEmail","authView","setAuthView","loginUsername","setLoginUsername","loginPassword","setLoginPassword","registerUsername","setRegisterUsername","registerPassword","setRegisterPassword","authError","setAuthError","playerTeamId","setPlayerTeamId","correctRef","bonusRef","timerEndRef","adminHeaders","fetchGame","res","get","params","data","teamAName","teamBName","err","fetchBracket","prev","next","currentTime","play","teams","available","filter","t","eliminated","startTimerWithMode","mode","pauseTimer","resetTimer","timerProgress","total","Math","max","min","awardTossup","team","post","headers","awardBonus","points","handleNextTossup","handleResetGame","_err$response","_err$response$data","message","response","handleSaveNames","initBracket","names","split","map","n","trim","length","teamNames","resetBracket","pushPairingToGame","teamAId","teamBId","finalizeCurrentMatch","getTeamName","find","name","history","items","reverse","renderTree","bracketName","matches","m","byRound","forEach","round","push","rounds","Object","keys","parseInt","sort","a","b","className","children","scoreA","undefined","scoreB","winnerId","concat","winnersList","losses","losersList","eliminatedList","timerTotal","radius","circumference","PI","progress","offset","stroke","handleLogin","username","password","token","role","setItem","_err$response2","_err$response2$data","handleRegister","_err$response3","_err$response3$data","handleProfileUpdate","newUsername","newPassword","_err$response4","_err$response4$data","handleLogout","removeItem","nextMatchForTeam","teamId","pending","completed","opponent","suggestedWin","suggestedWinnersPairs","p","status","suggestedLose","suggestedLosersPairs","finished","viewerNextMatch","isAdmin","onClick","value","onChange","e","target","placeholder","type","prompt","height","width","cx","cy","r","strokeWidth","fill","strokeDasharray","strokeDashoffset","transform","strokeLinecap","disabled","teamAScore","questionNumber","v","teamBScore","lastTossupWinner","ev","idx","description","Date","timestamp","toLocaleTimeString","join","suggestedWinnersTeamAId","suggestedWinnersTeamBId","suggestedLosersTeamAId","suggestedLosersTeamBId","slice","ref","src"],"sources":["/Users/gurumurthyvenkataraman/Downloads/quizbowl-school-project/quizbowl-frontend/src/App.js"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\n\nconst api = axios.create({\n  baseURL: \"https://api.quizbowl.game-manager.org\",\n});\n\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    if (delay === null) {\n      return;\n    }\n    const id = setInterval(() => {\n      if (savedCallback.current) {\n        savedCallback.current();\n      }\n    }, delay);\n    return () => clearInterval(id);\n  }, [delay]);\n}\n\nfunction App() {\n  const [page, setPage] = useState(\"control\");\n  const gameId = \"default\";\n  const [game, setGame] = useState(null);\n  const [loadingGame, setLoadingGame] = useState(false);\n  const [bracket, setBracket] = useState(null);\n  const [loadingBracket, setLoadingBracket] = useState(false);\n  const [editingNames, setEditingNames] = useState(false);\n  const [teamAInput, setTeamAInput] = useState(\"Team A\");\n  const [teamBInput, setTeamBInput] = useState(\"Team B\");\n  const [timerMode, setTimerMode] = useState(\"tossup\");\n  const [timerSeconds, setTimerSeconds] = useState(7);\n  const [timerRunning, setTimerRunning] = useState(false);\n  const [bracketNamesText, setBracketNamesText] = useState(\"\");\n  const [pairTeamAId, setPairTeamAId] = useState(\"\");\n  const [pairTeamBId, setPairTeamBId] = useState(\"\");\n  const [authToken, setAuthToken] = useState(() => localStorage.getItem(\"authToken\") || \"\");\n  const [authRole, setAuthRole] = useState(() => localStorage.getItem(\"authRole\") || \"\");\n  const [authUsername, setAuthUsername] = useState(() => localStorage.getItem(\"authUsername\") || \"\");\n  const [authEmail, setAuthEmail] = useState(\"\");\n  const [authView, setAuthView] = useState(\"login\");\n  const [loginUsername, setLoginUsername] = useState(\"\");\n  const [loginPassword, setLoginPassword] = useState(\"\");\n  const [registerUsername, setRegisterUsername] = useState(\"\");\n  const [registerPassword, setRegisterPassword] = useState(\"\");\n  const [authError, setAuthError] = useState(\"\");\n  const [playerTeamId, setPlayerTeamId] = useState(\"\");\n\n  const correctRef = useRef(null);\n  const bonusRef = useRef(null);\n  const timerEndRef = useRef(null);\n\n  const adminHeaders = () => (authToken ? { \"X-Admin-Token\": authToken } : {});\n\n  const fetchGame = useCallback(async () => {\n    try {\n      setLoadingGame(true);\n      const res = await api.get(\"/api/game\", { params: { gameId } });\n      setGame(res.data);\n      if (!editingNames) {\n        setTeamAInput(res.data.teamAName);\n        setTeamBInput(res.data.teamBName);\n      }\n    } catch (err) {\n      // no-op for now\n    } finally {\n      setLoadingGame(false);\n    }\n  }, [editingNames, gameId]);\n\n  const fetchBracket = useCallback(async () => {\n    try {\n      setLoadingBracket(true);\n      const res = await api.get(\"/api/bracket\");\n      setBracket(res.data);\n    } catch (err) {\n      // no-op\n    } finally {\n      setLoadingBracket(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchGame();\n    fetchBracket();\n  }, [fetchGame, fetchBracket, gameId]);\n\n  useEffect(() => {\n    if (authRole !== \"ADMIN\") {\n      setPage(\"bracket\");\n    }\n  }, [authRole]);\n\n  useInterval(() => {\n    fetchGame();\n    fetchBracket();\n  }, 1200);\n\n  useInterval(() => {\n    setTimerSeconds((prev) => {\n      if (!timerRunning) {\n        return prev;\n      }\n      const next = prev - 1;\n      if (next <= 0) {\n        if (timerRunning) {\n          setTimerRunning(false);\n        }\n        if (timerEndRef.current) {\n          timerEndRef.current.currentTime = 0;\n          timerEndRef.current.play();\n        }\n        return 0;\n      }\n      return next;\n    });\n  }, timerRunning ? 1000 : null);\n\n  useEffect(() => {\n    if (bracket && bracket.teams) {\n      const available = bracket.teams.filter((t) => !t.eliminated);\n      if (!pairTeamAId && available[0]) {\n        setPairTeamAId(available[0].id);\n      }\n      if (!pairTeamBId && available[1]) {\n        setPairTeamBId(available[1].id);\n      }\n    }\n  }, [bracket, pairTeamAId, pairTeamBId]);\n\n  const startTimerWithMode = (mode) => {\n    setTimerMode(mode);\n    setTimerSeconds(mode === \"bonus\" ? 20 : 7);\n    setTimerRunning(true);\n  };\n\n  const pauseTimer = () => {\n    setTimerRunning(false);\n  };\n\n  const resetTimer = () => {\n    setTimerRunning(false);\n    setTimerSeconds(timerMode === \"bonus\" ? 20 : 7);\n  };\n\n  const timerProgress = () => {\n    const total = timerMode === \"bonus\" ? 20 : 7;\n    return Math.max(0, Math.min(1, timerSeconds / total));\n  };\n\n  const awardTossup = async (team) => {\n    await api.post(\"/api/game/award-tossup\", { team }, { params: { gameId }, headers: adminHeaders() });\n    if (correctRef.current) {\n      correctRef.current.currentTime = 0;\n      correctRef.current.play();\n    }\n    fetchGame();\n  };\n\n  const awardBonus = async () => {\n    await api.post(\"/api/game/award-bonus\", { points: 10 }, { params: { gameId }, headers: adminHeaders() });\n    if (bonusRef.current) {\n      bonusRef.current.currentTime = 0;\n      bonusRef.current.play();\n    }\n    fetchGame();\n  };\n\n  const handleNextTossup = async () => {\n    await api.post(\"/api/game/next-tossup\", null, { params: { gameId }, headers: adminHeaders() });\n    setTimerMode(\"tossup\");\n    setTimerSeconds(7);\n    setTimerRunning(false);\n    fetchGame();\n  };\n\n  const handleResetGame = async () => {\n    try {\n      await api.post(\"/api/game/reset\", null, { params: { gameId }, headers: adminHeaders() });\n      await api.post(\"/api/bracket/reset\", null, { headers: adminHeaders() });\n      setTimerMode(\"tossup\");\n      setTimerSeconds(7);\n      setTimerRunning(false);\n      setPairTeamAId(\"\");\n      setPairTeamBId(\"\");\n      setPlayerTeamId(\"\");\n      setBracketNamesText(\"\");\n      setAuthError(\"\");\n      fetchGame();\n      fetchBracket();\n    } catch (err) {\n      const message = err?.response?.data?.message || \"Unable to reset game (are you logged in as admin?)\";\n      setAuthError(message);\n    }\n  };\n\n  const handleSaveNames = async () => {\n    await api.post(\n      \"/api/game/team-names\",\n      {\n        teamAName: teamAInput,\n        teamBName: teamBInput,\n      },\n      { params: { gameId }, headers: adminHeaders() }\n    );\n    setEditingNames(false);\n    fetchGame();\n  };\n\n  const initBracket = async () => {\n    const names = bracketNamesText\n      .split(\"\\n\")\n      .map((n) => n.trim())\n      .filter((n) => n.length > 0);\n    await api.post(\"/api/bracket/init\", { teamNames: names }, { headers: adminHeaders() });\n    fetchBracket();\n  };\n\n  const resetBracket = async () => {\n    await api.post(\"/api/bracket/reset\", null, { headers: adminHeaders() });\n    setPairTeamAId(\"\");\n    setPairTeamBId(\"\");\n    fetchBracket();\n  };\n\n  const pushPairingToGame = async () => {\n    if (!pairTeamAId || !pairTeamBId) return;\n    await api.post(\n      \"/api/bracket/set-current\",\n      {\n        teamAId: pairTeamAId,\n        teamBId: pairTeamBId,\n      },\n      { params: { gameId }, headers: adminHeaders() }\n    );\n    await fetchBracket();\n    await fetchGame();\n  };\n\n  const finalizeCurrentMatch = async () => {\n    await api.post(\"/api/bracket/finalize-current\", null, { params: { gameId }, headers: adminHeaders() });\n    await fetchBracket();\n  };\n\n  const getTeamName = useCallback(\n    (id) => {\n      if (!bracket || !bracket.teams) return \"\";\n      const team = bracket.teams.find((t) => t.id === id);\n      return team ? team.name : \"\";\n    },\n    [bracket]\n  );\n\n  const history = useMemo(() => {\n    const items = game?.history || [];\n    return [...items].reverse();\n  }, [game]);\n\n  const renderTree = (bracketName) => {\n    if (!bracket) return null;\n    const matches = (bracket.matches || []).filter((m) => m.bracket === bracketName);\n    const byRound = {};\n    matches.forEach((m) => {\n      if (!byRound[m.round]) byRound[m.round] = [];\n      byRound[m.round].push(m);\n    });\n    const rounds = Object.keys(byRound)\n      .map((n) => parseInt(n, 10))\n      .sort((a, b) => a - b);\n\n    return (\n      <div className=\"bracket-tree\">\n        {rounds.map((round) => (\n          <div className=\"bracket-col\" key={`${bracketName}-${round}`}>\n            <div className=\"bracket-col-title\">Round {round}</div>\n            {byRound[round].map((m) => (\n              <div className=\"match-card\" key={m.id}>\n                <div className=\"match-row\">\n                  <span>{getTeamName(m.teamAId)}</span>\n                  <span className=\"score-pill\">\n                    {m.scoreA !== null && m.scoreA !== undefined ? m.scoreA : \"-\"}\n                  </span>\n                </div>\n                <div className=\"match-row\">\n                  <span>{getTeamName(m.teamBId)}</span>\n                  <span className=\"score-pill\">\n                    {m.scoreB !== null && m.scoreB !== undefined ? m.scoreB : \"-\"}\n                  </span>\n                </div>\n                {m.winnerId && (\n                  <div className=\"winner-line\">\n                    Winner: <strong>{getTeamName(m.winnerId)}</strong>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  const winnersList = (bracket?.teams || []).filter(\n    (t) => !t.eliminated && t.losses === 0\n  );\n  const losersList = (bracket?.teams || []).filter(\n    (t) => !t.eliminated && t.losses === 1\n  );\n  const eliminatedList = (bracket?.teams || []).filter((t) => t.eliminated);\n\n  const timerTotal = timerMode === \"bonus\" ? 20 : 7;\n  const radius = 70;\n  const circumference = 2 * Math.PI * radius;\n  const progress = timerProgress();\n  const offset = circumference * (1 - progress);\n  const stroke =\n    progress > 0.5 ? \"#4ade80\" : progress > 0.25 ? \"#fbbf24\" : \"#fb923c\";\n\n  const handleLogin = async () => {\n    try {\n      const res = await api.post(\"/api/auth/login\", {\n        username: loginUsername,\n        password: loginPassword,\n      });\n      setAuthToken(res.data.token);\n      setAuthRole(res.data.role);\n      setAuthUsername(res.data.username);\n      localStorage.setItem(\"authToken\", res.data.token);\n      localStorage.setItem(\"authRole\", res.data.role);\n      localStorage.setItem(\"authUsername\", res.data.username);\n      setAuthError(\"\");\n    } catch (err) {\n      const message = err?.response?.data?.message || \"Invalid username or password\";\n      setAuthError(message);\n    }\n  };\n\n  const handleRegister = async () => {\n    try {\n      const res = await api.post(\"/api/auth/register\", {\n        username: registerUsername,\n        password: registerPassword,\n      });\n      setAuthToken(res.data.token);\n      setAuthRole(res.data.role);\n      setAuthUsername(res.data.username);\n      localStorage.setItem(\"authToken\", res.data.token);\n      localStorage.setItem(\"authRole\", res.data.role);\n      localStorage.setItem(\"authUsername\", res.data.username);\n      setAuthView(\"login\");\n      setAuthError(\"\");\n    } catch (err) {\n      const message = err?.response?.data?.message || \"Registration failed\";\n      setAuthError(message);\n    }\n  };\n\n  const handleProfileUpdate = async (newUsername, newPassword) => {\n    try {\n      const res = await api.post(\n        \"/api/auth/update-profile\",\n        { newUsername, newPassword },\n        { headers: adminHeaders() }\n      );\n      setAuthUsername(res.data.username);\n      setAuthRole(res.data.role);\n      localStorage.setItem(\"authUsername\", res.data.username);\n      localStorage.setItem(\"authRole\", res.data.role);\n      setAuthError(\"Profile updated\");\n    } catch (err) {\n      const message = err?.response?.data?.message || \"Update failed\";\n      setAuthError(message);\n    }\n  };\n\n  const handleLogout = () => {\n    setAuthToken(\"\");\n    setAuthRole(\"\");\n    setAuthUsername(\"\");\n    localStorage.removeItem(\"authToken\");\n    localStorage.removeItem(\"authRole\");\n    localStorage.removeItem(\"authUsername\");\n  };\n\n  const nextMatchForTeam = (teamId) => {\n    if (!bracket || !teamId) return null;\n    const pending = (bracket.matches || []).find(\n      (m) => !m.completed && (m.teamAId === teamId || m.teamBId === teamId)\n    );\n    if (pending) {\n      return {\n        bracket: pending.bracket,\n        round: pending.round,\n        opponent:\n          pending.teamAId === teamId ? getTeamName(pending.teamBId) : getTeamName(pending.teamAId),\n      };\n    }\n    const suggestedWin = (bracket.suggestedWinnersPairs || []).find(\n      (p) => p.teamAId === teamId || p.teamBId === teamId\n    );\n    if (suggestedWin) {\n      const opponent =\n        suggestedWin.teamAId === teamId\n          ? getTeamName(suggestedWin.teamBId)\n          : getTeamName(suggestedWin.teamAId);\n      return { bracket: \"WINNERS\", round: \"TBD\", opponent, status: \"Awaiting winners pairing\" };\n    }\n    const suggestedLose = (bracket.suggestedLosersPairs || []).find(\n      (p) => p.teamAId === teamId || p.teamBId === teamId\n    );\n    if (suggestedLose) {\n      const opponent =\n        suggestedLose.teamAId === teamId\n          ? getTeamName(suggestedLose.teamBId)\n          : getTeamName(suggestedLose.teamAId);\n      return { bracket: \"LOSERS\", round: \"TBD\", opponent, status: \"Awaiting losers pairing\" };\n    }\n    const team = (bracket.teams || []).find((t) => t.id === teamId);\n    if (team?.eliminated) {\n      return { status: \"Eliminated\" };\n    }\n    if (bracket.finished) {\n      return { status: \"Bracket finished\" };\n    }\n    return { status: \"Waiting for scheduling\" };\n  };\n\n  const viewerNextMatch = nextMatchForTeam(playerTeamId);\n\n  const isAdmin = authRole === \"ADMIN\";\n\n  if (!authToken) {\n    return (\n      <div className=\"auth-page\">\n        <div className=\"auth-card\">\n          <div className=\"auth-toggle\">\n            <button\n              className={`tab ${authView === \"login\" ? \"active\" : \"\"}`}\n              onClick={() => setAuthView(\"login\")}\n            >\n              Login\n            </button>\n            <button\n              className={`tab ${authView === \"register\" ? \"active\" : \"\"}`}\n              onClick={() => setAuthView(\"register\")}\n            >\n              Register\n            </button>\n          </div>\n          {authView === \"login\" ? (\n            <>\n              <h2>Welcome back</h2>\n              <p className=\"muted\">Admins sign in; players use their own account.</p>\n              <input\n                value={loginUsername}\n                onChange={(e) => setLoginUsername(e.target.value)}\n                placeholder=\"Username\"\n              />\n              <input\n                type=\"password\"\n                value={loginPassword}\n                onChange={(e) => setLoginPassword(e.target.value)}\n                placeholder=\"Password\"\n              />\n              <button className=\"btn primary\" onClick={handleLogin}>\n                Sign in\n              </button>\n            </>\n          ) : authView === \"register\" ? (\n            <>\n              <h2>Create your account</h2>\n              <input\n                value={registerUsername}\n                onChange={(e) => setRegisterUsername(e.target.value)}\n                placeholder=\"Choose username\"\n              />\n              <input\n                type=\"password\"\n                value={registerPassword}\n                onChange={(e) => setRegisterPassword(e.target.value)}\n                placeholder=\"Choose password\"\n              />\n              <button className=\"btn primary\" onClick={handleRegister}>\n                Register &amp; continue\n              </button>\n            </>\n          ) : null}\n          {authError && <div className=\"auth-error\">{authError}</div>}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"app\">\n      <header className=\"app-header\">\n        <div className=\"logo\">Quizbowl Control</div>\n        <div className=\"header-actions\">\n          <div className=\"auth-chip\">\n            <div className=\"auth-name\">{authUsername || \"user\"}</div>\n            <div className=\"auth-role\">({isAdmin ? \"Administrator\" : \"Viewer\"})</div>\n            <button\n              className=\"btn ghost small-btn\"\n              onClick={() => handleProfileUpdate(prompt(\"New username (leave blank to keep)\", \"\"), prompt(\"New password (leave blank to keep)\", \"\"))}\n            >\n              Update profile\n            </button>\n            <button className=\"btn ghost\" onClick={handleLogout}>\n              Logout\n            </button>\n          </div>\n          <div className=\"tabs\">\n            {isAdmin && (\n              <button\n                className={`tab ${page === \"control\" ? \"active\" : \"\"}`}\n                onClick={() => setPage(\"control\")}\n              >\n                Control\n              </button>\n            )}\n            <button\n              className={`tab ${page === \"bracket\" ? \"active\" : \"\"}`}\n              onClick={() => setPage(\"bracket\")}\n            >\n              Bracket\n            </button>\n          </div>\n        </div>\n      </header>\n\n      {page === \"control\" && isAdmin && (\n        <>\n          <div className=\"control-layout\">\n            <div className=\"card timer-card\">\n              <div className=\"card-header\">\n                <h3>Timer &amp; Flow</h3>\n                <div className=\"chip-row\">\n                  <button\n                    className={`chip ${timerMode === \"tossup\" ? \"active\" : \"\"}`}\n                    onClick={() => {\n                      setTimerMode(\"tossup\");\n                      setTimerSeconds(7);\n                      setTimerRunning(false);\n                    }}\n                  >\n                    Tossup (7s)\n                  </button>\n                  <button\n                    className={`chip ${timerMode === \"bonus\" ? \"active\" : \"\"}`}\n                    onClick={() => {\n                      setTimerMode(\"bonus\");\n                      setTimerSeconds(20);\n                      setTimerRunning(false);\n                    }}\n                  >\n                    Bonus (20s)\n                  </button>\n                </div>\n              </div>\n              <div className=\"timer-body\">\n                <div className=\"timer-visual\">\n                  <div className=\"timer-ring\">\n                    <svg height=\"180\" width=\"180\">\n                      <circle\n                        cx=\"90\"\n                        cy=\"90\"\n                        r={radius}\n                        stroke=\"#1f2a44\"\n                        strokeWidth=\"10\"\n                        fill=\"none\"\n                        className=\"timer-track\"\n                      />\n                      <circle\n                        cx=\"90\"\n                        cy=\"90\"\n                        r={radius}\n                        stroke={stroke}\n                        strokeWidth=\"10\"\n                        fill=\"none\"\n                        strokeDasharray={circumference}\n                        strokeDashoffset={offset}\n                        transform=\"rotate(-90 90 90)\"\n                        strokeLinecap=\"round\"\n                        className=\"timer-progress\"\n                      />\n                    </svg>\n                    <div className=\"timer-center\">\n                      <div className=\"timer-value\">{timerSeconds}s</div>\n                      <div className=\"timer-mode-label\">\n                        {timerMode === \"bonus\" ? \"Bonus\" : \"Tossup\"} timer\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"timer-actions\">\n                    <button\n                      className=\"btn primary\"\n                      onClick={() => startTimerWithMode(timerMode)}\n                      disabled={!isAdmin}\n                    >\n                      Start\n                    </button>\n                    <button className=\"btn ghost\" onClick={pauseTimer} disabled={!isAdmin}>\n                      Pause\n                    </button>\n                    <button className=\"btn ghost\" onClick={resetTimer} disabled={!isAdmin}>\n                      Reset\n                    </button>\n                  </div>\n                </div>\n                <div className=\"timer-side\">\n                  <p className=\"muted\">Use Tossup/Bonus chips to load durations.</p>\n                  <p className=\"muted\">\n                    Start resets to the full length for the selected mode. Pause halts countdown.\n                  </p>\n                  <p className=\"muted\">Next Tossup will also clear the timer back to 7 seconds.</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"card scoreboard-card\">\n              <div className=\"scoreboard\">\n                <div className=\"team-block\">\n                  <div className=\"team-heading\">\n                    <span className=\"dot dot-a\" />\n                    {editingNames ? (\n                      <input\n                        value={teamAInput}\n                        onChange={(e) => setTeamAInput(e.target.value)}\n                      />\n                    ) : (\n                      <span className=\"team-name\">{game?.teamAName || \"Team A\"}</span>\n                    )}\n                  </div>\n                  <div className=\"team-score\">{game?.teamAScore ?? 0}</div>\n                </div>\n\n                <div className=\"center-block\">\n                  <div className=\"question-label\">Question</div>\n                  <div className=\"question-number\">#{game?.questionNumber ?? 1}</div>\n                  <div className=\"center-actions\">\n                    <button className=\"btn primary\" onClick={handleNextTossup} disabled={!isAdmin}>\n                      Next tossup\n                    </button>\n                    <button className=\"btn ghost\" onClick={handleResetGame} disabled={!isAdmin}>\n                      Reset game\n                    </button>\n                  </div>\n                  <div className=\"edit-row\">\n                    <button\n                      className={`chip small ${editingNames ? \"active\" : \"\"}`}\n                      onClick={() => setEditingNames((v) => !v)}\n                    >\n                      {editingNames ? \"Editing…\" : \"Edit names\"}\n                    </button>\n                    {editingNames && (\n                      <button className=\"btn primary\" onClick={handleSaveNames}>\n                        Save names\n                      </button>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"team-block\">\n                  <div className=\"team-heading\">\n                    <span className=\"dot dot-b\" />\n                    {editingNames ? (\n                      <input\n                        value={teamBInput}\n                        onChange={(e) => setTeamBInput(e.target.value)}\n                      />\n                    ) : (\n                      <span className=\"team-name\">{game?.teamBName || \"Team B\"}</span>\n                    )}\n                  </div>\n                  <div className=\"team-score\">{game?.teamBScore ?? 0}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"control-bottom-row\">\n            <div className=\"card scoring-card\">\n              <div className=\"section-header\">\n                <h3>Scoring</h3>\n                <span className=\"muted\">Live actions feed the history log.</span>\n              </div>\n              <div className=\"scoring-section\">\n                <div className=\"section-label\">Tossups</div>\n                <div className=\"action-row\">\n                  <button className=\"btn primary wide\" onClick={() => awardTossup(\"A\")} disabled={!isAdmin}>\n                    Tossup +10 → {game?.teamAName || \"Team A\"}\n                  </button>\n                  <button className=\"btn primary wide\" onClick={() => awardTossup(\"B\")} disabled={!isAdmin}>\n                    Tossup +10 → {game?.teamBName || \"Team B\"}\n                  </button>\n                </div>\n              </div>\n              <div className=\"scoring-section\">\n                <div className=\"section-label\">Bonus</div>\n                <div className=\"action-row\">\n                  <button\n                    className=\"btn bonus wide\"\n                    disabled={!game?.lastTossupWinner || !isAdmin}\n                    onClick={awardBonus}\n                  >\n                    {game?.lastTossupWinner === \"A\"\n                      ? `Bonus +10 → ${game?.teamAName || \"Team A\"}`\n                      : game?.lastTossupWinner === \"B\"\n                      ? `Bonus +10 → ${game?.teamBName || \"Team B\"}`\n                      : \"Bonus +10 (await tossup)\"}\n                  </button>\n                </div>\n                <div className=\"muted small-text\">\n                  Bonus always goes to whoever got the last tossup. If no tossup, no bonus.\n                </div>\n              </div>\n            </div>\n\n            <div className=\"card history-card\">\n              <div className=\"section-header\">\n                <h3>Recent history</h3>\n                {loadingGame && <span className=\"muted\">Syncing…</span>}\n              </div>\n              <div className=\"history-list\">\n                {history.map((ev, idx) => (\n                  <div className=\"history-item\" key={`${ev.timestamp}-${idx}`}>\n                    <div className=\"history-type\">{ev.type}</div>\n                    <div className=\"history-desc\">{ev.description}</div>\n                    <div className=\"history-time\">\n                      {new Date(ev.timestamp).toLocaleTimeString()}\n                    </div>\n                  </div>\n                ))}\n                {history.length === 0 && <div className=\"muted\">No events yet.</div>}\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n\n      {page === \"bracket\" && (\n        <div className=\"bracket-layout\">\n          {isAdmin && (!bracket?.teams || bracket?.teams.length === 0) && (\n            <div className=\"card setup-card\">\n              <div className=\"card-header\">\n                <h3>Bracket setup &amp; pairing</h3>\n                {loadingBracket && <span className=\"muted\">Loading…</span>}\n              </div>\n              <textarea\n                className=\"bracket-textarea\"\n                placeholder=\"Enter one team per line\"\n                value={bracketNamesText}\n                onChange={(e) => setBracketNamesText(e.target.value)}\n              />\n              <div className=\"button-row\">\n                <button className=\"btn primary\" onClick={initBracket} disabled={!isAdmin}>\n                  Initialize bracket\n                </button>\n                <button className=\"btn ghost\" onClick={resetBracket} disabled={!isAdmin}>\n                  Reset bracket\n                </button>\n              </div>\n\n              <div className=\"pair-row\">\n                <div className=\"pair\">\n                  <label>Left scoreboard</label>\n                  <select value={pairTeamAId} onChange={(e) => setPairTeamAId(e.target.value)}>\n                    <option value=\"\">Select team</option>\n                    {(bracket?.teams || [])\n                      .filter((t) => !t.eliminated)\n                      .map((t) => (\n                        <option key={t.id} value={t.id}>\n                          {t.name}\n                        </option>\n                      ))}\n                  </select>\n                </div>\n                <div className=\"pair\">\n                  <label>Right scoreboard</label>\n                  <select value={pairTeamBId} onChange={(e) => setPairTeamBId(e.target.value)}>\n                    <option value=\"\">Select team</option>\n                    {(bracket?.teams || [])\n                      .filter((t) => !t.eliminated)\n                      .map((t) => (\n                        <option key={t.id} value={t.id}>\n                          {t.name}\n                        </option>\n                      ))}\n                  </select>\n                </div>\n              </div>\n              <div className=\"button-row\">\n                <button className=\"btn primary\" onClick={pushPairingToGame} disabled={!isAdmin}>\n                  Push pairing to game\n                </button>\n                <button className=\"btn ghost\" onClick={finalizeCurrentMatch} disabled={!isAdmin}>\n                  Finalize current match\n                </button>\n              </div>\n\n              <div className=\"status-row\">\n                <div className=\"status-chip winners\">\n                  Winners:{\" \"}\n                  {winnersList.length\n                    ? winnersList.map((t) => t.name).join(\", \")\n                    : \"—\"}\n                </div>\n                <div className=\"status-chip losers\">\n                  Losers:{\" \"}\n                  {losersList.length ? losersList.map((t) => t.name).join(\", \") : \"—\"}\n                </div>\n                <div className=\"status-chip eliminated\">\n                  Eliminated:{\" \"}\n                  {eliminatedList.length\n                    ? eliminatedList.map((t) => t.name).join(\", \")\n                    : \"—\"}\n                </div>\n              </div>\n\n              <div className=\"suggestions-row\">\n                {bracket?.suggestedWinnersTeamAId && bracket?.suggestedWinnersTeamBId && (\n                  <div className=\"suggestion-pill\">\n                    Next winners match:{\" \"}\n                    <strong>\n                      {getTeamName(bracket.suggestedWinnersTeamAId)} vs{\" \"}\n                      {getTeamName(bracket.suggestedWinnersTeamBId)}\n                    </strong>\n                  </div>\n                )}\n                {bracket?.suggestedLosersTeamAId && bracket?.suggestedLosersTeamBId && (\n                  <div className=\"suggestion-pill\">\n                    Next losers match:{\" \"}\n                    <strong>\n                      {getTeamName(bracket.suggestedLosersTeamAId)} vs{\" \"}\n                      {getTeamName(bracket.suggestedLosersTeamBId)}\n                    </strong>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          <div className=\"card bracket-card\">\n            {isAdmin && (bracket?.teams || []).length > 0 && (\n              <div className=\"inline-controls\">\n                <div className=\"pair\">\n                  <label>Left scoreboard</label>\n                  <select value={pairTeamAId} onChange={(e) => setPairTeamAId(e.target.value)}>\n                    <option value=\"\">Select team</option>\n                    {(bracket?.teams || [])\n                      .filter((t) => !t.eliminated)\n                      .map((t) => (\n                        <option key={t.id} value={t.id}>\n                          {t.name}\n                        </option>\n                      ))}\n                  </select>\n                </div>\n                <div className=\"pair\">\n                  <label>Right scoreboard</label>\n                  <select value={pairTeamBId} onChange={(e) => setPairTeamBId(e.target.value)}>\n                    <option value=\"\">Select team</option>\n                    {(bracket?.teams || [])\n                      .filter((t) => !t.eliminated)\n                      .map((t) => (\n                        <option key={t.id} value={t.id}>\n                          {t.name}\n                        </option>\n                      ))}\n                  </select>\n                </div>\n                <button className=\"btn primary\" onClick={pushPairingToGame} disabled={!isAdmin}>\n                  Push to game\n                </button>\n                <button className=\"btn ghost\" onClick={finalizeCurrentMatch} disabled={!isAdmin}>\n                  Finalize current\n                </button>\n              </div>\n            )}\n            <div className=\"trees-top-row\">\n              <div>\n                <div className=\"tree-header\">\n                  <h4>Winners bracket</h4>\n                  <div className=\"header-line\">\n                    {winnersList.map((t) => t.name).join(\" • \")}\n                  </div>\n                  {bracket?.suggestedWinnersPairs && bracket.suggestedWinnersPairs.length > 0 && (\n                    <div className=\"suggest-list\">\n                      {bracket.suggestedWinnersPairs.map((p, idx) => (\n                        <div className=\"suggestion-pill\" key={`w-${p.teamAId}-${p.teamBId}-${idx}`}>\n                          {getTeamName(p.teamAId)} vs {getTeamName(p.teamBId)}\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n                {renderTree(\"WINNERS\")}\n              </div>\n              <div>\n                <div className=\"tree-header\">\n                  <h4>Losers bracket</h4>\n                  <div className=\"header-line\">\n                    {losersList.map((t) => t.name).join(\" • \")}\n                  </div>\n                  {bracket?.suggestedLosersPairs && bracket.suggestedLosersPairs.length > 0 && (\n                    <div className=\"suggest-list\">\n                      {bracket.suggestedLosersPairs.map((p, idx) => (\n                        <div className=\"suggestion-pill\" key={`l-${p.teamAId}-${p.teamBId}-${idx}`}>\n                          {getTeamName(p.teamAId)} vs {getTeamName(p.teamBId)}\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n                {renderTree(\"LOSERS\")}\n              </div>\n            </div>\n\n            <div className=\"standings\">\n              <h4>Standings</h4>\n              <table>\n                <thead>\n                  <tr>\n                    <th>Team</th>\n                    <th>Losses</th>\n                    <th>Status</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {(bracket?.teams || [])\n                    .slice()\n                    .sort((a, b) => a.losses - b.losses)\n                    .map((team) => (\n                      <tr key={team.id}>\n                        <td>{team.name}</td>\n                        <td>{team.losses}</td>\n                        <td>\n                          {team.eliminated\n                            ? \"Eliminated\"\n                            : team.losses === 0\n                            ? \"Winners bracket\"\n                            : \"Losers bracket\"}\n                        </td>\n                      </tr>\n                    ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n\n          <div className=\"viewer-card card\">\n            <h4>Player lookup</h4>\n            <select value={playerTeamId} onChange={(e) => setPlayerTeamId(e.target.value)}>\n              <option value=\"\">Select your team</option>\n              {(bracket?.teams || []).map((t) => (\n                <option key={t.id} value={t.id}>\n                  {t.name}\n                </option>\n              ))}\n            </select>\n            {viewerNextMatch ? (\n              <div className=\"viewer-info\">\n                {viewerNextMatch.status ? (\n                  <div className=\"muted\">{viewerNextMatch.status}</div>\n                ) : (\n                  <div>\n                    Next match: {viewerNextMatch.bracket} Round {viewerNextMatch.round} vs{\" \"}\n                    {viewerNextMatch.opponent || \"TBD\"}\n                  </div>\n                )}\n              </div>\n            ) : (\n              <div className=\"muted\">No pending matches found yet.</div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {isAdmin && (\n        <div className=\"footer-bar\">\n          <button className=\"btn ghost\" onClick={handleResetGame}>\n            Reset game\n          </button>\n        </div>\n      )}\n\n      <audio ref={correctRef} src=\"/sounds/correct.wav\" />\n      <audio ref={bonusRef} src=\"/sounds/bonus.wav\" />\n      <audio ref={timerEndRef} src=\"/sounds/timer_end.wav\" />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,WAAW,CAAEC,SAAS,CAAEC,OAAO,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAChF,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,WAAW,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEnB,KAAM,CAAAC,GAAG,CAAGP,KAAK,CAACQ,MAAM,CAAC,CACvBC,OAAO,CAAE,uCACX,CAAC,CAAC,CAEF,QAAS,CAAAC,WAAWA,CAACC,QAAQ,CAAEC,KAAK,CAAE,CACpC,KAAM,CAAAC,aAAa,CAAGf,MAAM,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACdiB,aAAa,CAACC,OAAO,CAAGH,QAAQ,CAClC,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEdf,SAAS,CAAC,IAAM,CACd,GAAIgB,KAAK,GAAK,IAAI,CAAE,CAClB,OACF,CACA,KAAM,CAAAG,EAAE,CAAGC,WAAW,CAAC,IAAM,CAC3B,GAAIH,aAAa,CAACC,OAAO,CAAE,CACzBD,aAAa,CAACC,OAAO,CAAC,CAAC,CACzB,CACF,CAAC,CAAEF,KAAK,CAAC,CACT,MAAO,IAAMK,aAAa,CAACF,EAAE,CAAC,CAChC,CAAC,CAAE,CAACH,KAAK,CAAC,CAAC,CACb,CAEA,QAAS,CAAAM,GAAGA,CAAA,CAAG,KAAAC,gBAAA,CAAAC,oBAAA,CAAAC,gBAAA,CACb,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGxB,QAAQ,CAAC,SAAS,CAAC,CAC3C,KAAM,CAAAyB,MAAM,CAAG,SAAS,CACxB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAG3B,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAAC4B,WAAW,CAAEC,cAAc,CAAC,CAAG7B,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAC8B,OAAO,CAAEC,UAAU,CAAC,CAAG/B,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACgC,cAAc,CAAEC,iBAAiB,CAAC,CAAGjC,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACkC,YAAY,CAAEC,eAAe,CAAC,CAAGnC,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACoC,UAAU,CAAEC,aAAa,CAAC,CAAGrC,QAAQ,CAAC,QAAQ,CAAC,CACtD,KAAM,CAACsC,UAAU,CAAEC,aAAa,CAAC,CAAGvC,QAAQ,CAAC,QAAQ,CAAC,CACtD,KAAM,CAACwC,SAAS,CAAEC,YAAY,CAAC,CAAGzC,QAAQ,CAAC,QAAQ,CAAC,CACpD,KAAM,CAAC0C,YAAY,CAAEC,eAAe,CAAC,CAAG3C,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAAC4C,YAAY,CAAEC,eAAe,CAAC,CAAG7C,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAC8C,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG/C,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACgD,WAAW,CAAEC,cAAc,CAAC,CAAGjD,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACkD,WAAW,CAAEC,cAAc,CAAC,CAAGnD,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACoD,SAAS,CAAEC,YAAY,CAAC,CAAGrD,QAAQ,CAAC,IAAMsD,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,EAAI,EAAE,CAAC,CACzF,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGzD,QAAQ,CAAC,IAAMsD,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,EAAI,EAAE,CAAC,CACtF,KAAM,CAACG,YAAY,CAAEC,eAAe,CAAC,CAAG3D,QAAQ,CAAC,IAAMsD,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAI,EAAE,CAAC,CAClG,KAAM,CAACK,SAAS,CAAEC,YAAY,CAAC,CAAG7D,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAAC8D,QAAQ,CAAEC,WAAW,CAAC,CAAG/D,QAAQ,CAAC,OAAO,CAAC,CACjD,KAAM,CAACgE,aAAa,CAAEC,gBAAgB,CAAC,CAAGjE,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACkE,aAAa,CAAEC,gBAAgB,CAAC,CAAGnE,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACoE,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGrE,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACsE,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGvE,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACwE,SAAS,CAAEC,YAAY,CAAC,CAAGzE,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAAC0E,YAAY,CAAEC,eAAe,CAAC,CAAG3E,QAAQ,CAAC,EAAE,CAAC,CAEpD,KAAM,CAAA4E,UAAU,CAAG7E,MAAM,CAAC,IAAI,CAAC,CAC/B,KAAM,CAAA8E,QAAQ,CAAG9E,MAAM,CAAC,IAAI,CAAC,CAC7B,KAAM,CAAA+E,WAAW,CAAG/E,MAAM,CAAC,IAAI,CAAC,CAEhC,KAAM,CAAAgF,YAAY,CAAGA,CAAA,GAAO3B,SAAS,CAAG,CAAE,eAAe,CAAEA,SAAU,CAAC,CAAG,CAAC,CAAE,CAE5E,KAAM,CAAA4B,SAAS,CAAGpF,WAAW,CAAC,SAAY,CACxC,GAAI,CACFiC,cAAc,CAAC,IAAI,CAAC,CACpB,KAAM,CAAAoD,GAAG,CAAG,KAAM,CAAAzE,GAAG,CAAC0E,GAAG,CAAC,WAAW,CAAE,CAAEC,MAAM,CAAE,CAAE1D,MAAO,CAAE,CAAC,CAAC,CAC9DE,OAAO,CAACsD,GAAG,CAACG,IAAI,CAAC,CACjB,GAAI,CAAClD,YAAY,CAAE,CACjBG,aAAa,CAAC4C,GAAG,CAACG,IAAI,CAACC,SAAS,CAAC,CACjC9C,aAAa,CAAC0C,GAAG,CAACG,IAAI,CAACE,SAAS,CAAC,CACnC,CACF,CAAE,MAAOC,GAAG,CAAE,CACZ;AAAA,CACD,OAAS,CACR1D,cAAc,CAAC,KAAK,CAAC,CACvB,CACF,CAAC,CAAE,CAACK,YAAY,CAAET,MAAM,CAAC,CAAC,CAE1B,KAAM,CAAA+D,YAAY,CAAG5F,WAAW,CAAC,SAAY,CAC3C,GAAI,CACFqC,iBAAiB,CAAC,IAAI,CAAC,CACvB,KAAM,CAAAgD,GAAG,CAAG,KAAM,CAAAzE,GAAG,CAAC0E,GAAG,CAAC,cAAc,CAAC,CACzCnD,UAAU,CAACkD,GAAG,CAACG,IAAI,CAAC,CACtB,CAAE,MAAOG,GAAG,CAAE,CACZ;AAAA,CACD,OAAS,CACRtD,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CACF,CAAC,CAAE,EAAE,CAAC,CAENpC,SAAS,CAAC,IAAM,CACdmF,SAAS,CAAC,CAAC,CACXQ,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACR,SAAS,CAAEQ,YAAY,CAAE/D,MAAM,CAAC,CAAC,CAErC5B,SAAS,CAAC,IAAM,CACd,GAAI2D,QAAQ,GAAK,OAAO,CAAE,CACxBhC,OAAO,CAAC,SAAS,CAAC,CACpB,CACF,CAAC,CAAE,CAACgC,QAAQ,CAAC,CAAC,CAEd7C,WAAW,CAAC,IAAM,CAChBqE,SAAS,CAAC,CAAC,CACXQ,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,IAAI,CAAC,CAER7E,WAAW,CAAC,IAAM,CAChBgC,eAAe,CAAE8C,IAAI,EAAK,CACxB,GAAI,CAAC7C,YAAY,CAAE,CACjB,MAAO,CAAA6C,IAAI,CACb,CACA,KAAM,CAAAC,IAAI,CAAGD,IAAI,CAAG,CAAC,CACrB,GAAIC,IAAI,EAAI,CAAC,CAAE,CACb,GAAI9C,YAAY,CAAE,CAChBC,eAAe,CAAC,KAAK,CAAC,CACxB,CACA,GAAIiC,WAAW,CAAC/D,OAAO,CAAE,CACvB+D,WAAW,CAAC/D,OAAO,CAAC4E,WAAW,CAAG,CAAC,CACnCb,WAAW,CAAC/D,OAAO,CAAC6E,IAAI,CAAC,CAAC,CAC5B,CACA,MAAO,EAAC,CACV,CACA,MAAO,CAAAF,IAAI,CACb,CAAC,CAAC,CACJ,CAAC,CAAE9C,YAAY,CAAG,IAAI,CAAG,IAAI,CAAC,CAE9B/C,SAAS,CAAC,IAAM,CACd,GAAIiC,OAAO,EAAIA,OAAO,CAAC+D,KAAK,CAAE,CAC5B,KAAM,CAAAC,SAAS,CAAGhE,OAAO,CAAC+D,KAAK,CAACE,MAAM,CAAEC,CAAC,EAAK,CAACA,CAAC,CAACC,UAAU,CAAC,CAC5D,GAAI,CAACjD,WAAW,EAAI8C,SAAS,CAAC,CAAC,CAAC,CAAE,CAChC7C,cAAc,CAAC6C,SAAS,CAAC,CAAC,CAAC,CAAC9E,EAAE,CAAC,CACjC,CACA,GAAI,CAACkC,WAAW,EAAI4C,SAAS,CAAC,CAAC,CAAC,CAAE,CAChC3C,cAAc,CAAC2C,SAAS,CAAC,CAAC,CAAC,CAAC9E,EAAE,CAAC,CACjC,CACF,CACF,CAAC,CAAE,CAACc,OAAO,CAAEkB,WAAW,CAAEE,WAAW,CAAC,CAAC,CAEvC,KAAM,CAAAgD,kBAAkB,CAAIC,IAAI,EAAK,CACnC1D,YAAY,CAAC0D,IAAI,CAAC,CAClBxD,eAAe,CAACwD,IAAI,GAAK,OAAO,CAAG,EAAE,CAAG,CAAC,CAAC,CAC1CtD,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,CAED,KAAM,CAAAuD,UAAU,CAAGA,CAAA,GAAM,CACvBvD,eAAe,CAAC,KAAK,CAAC,CACxB,CAAC,CAED,KAAM,CAAAwD,UAAU,CAAGA,CAAA,GAAM,CACvBxD,eAAe,CAAC,KAAK,CAAC,CACtBF,eAAe,CAACH,SAAS,GAAK,OAAO,CAAG,EAAE,CAAG,CAAC,CAAC,CACjD,CAAC,CAED,KAAM,CAAA8D,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAAC,KAAK,CAAG/D,SAAS,GAAK,OAAO,CAAG,EAAE,CAAG,CAAC,CAC5C,MAAO,CAAAgE,IAAI,CAACC,GAAG,CAAC,CAAC,CAAED,IAAI,CAACE,GAAG,CAAC,CAAC,CAAEhE,YAAY,CAAG6D,KAAK,CAAC,CAAC,CACvD,CAAC,CAED,KAAM,CAAAI,WAAW,CAAG,KAAO,CAAAC,IAAI,EAAK,CAClC,KAAM,CAAApG,GAAG,CAACqG,IAAI,CAAC,wBAAwB,CAAE,CAAED,IAAK,CAAC,CAAE,CAAEzB,MAAM,CAAE,CAAE1D,MAAO,CAAC,CAAEqF,OAAO,CAAE/B,YAAY,CAAC,CAAE,CAAC,CAAC,CACnG,GAAIH,UAAU,CAAC7D,OAAO,CAAE,CACtB6D,UAAU,CAAC7D,OAAO,CAAC4E,WAAW,CAAG,CAAC,CAClCf,UAAU,CAAC7D,OAAO,CAAC6E,IAAI,CAAC,CAAC,CAC3B,CACAZ,SAAS,CAAC,CAAC,CACb,CAAC,CAED,KAAM,CAAA+B,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAvG,GAAG,CAACqG,IAAI,CAAC,uBAAuB,CAAE,CAAEG,MAAM,CAAE,EAAG,CAAC,CAAE,CAAE7B,MAAM,CAAE,CAAE1D,MAAO,CAAC,CAAEqF,OAAO,CAAE/B,YAAY,CAAC,CAAE,CAAC,CAAC,CACxG,GAAIF,QAAQ,CAAC9D,OAAO,CAAE,CACpB8D,QAAQ,CAAC9D,OAAO,CAAC4E,WAAW,CAAG,CAAC,CAChCd,QAAQ,CAAC9D,OAAO,CAAC6E,IAAI,CAAC,CAAC,CACzB,CACAZ,SAAS,CAAC,CAAC,CACb,CAAC,CAED,KAAM,CAAAiC,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,KAAM,CAAAzG,GAAG,CAACqG,IAAI,CAAC,uBAAuB,CAAE,IAAI,CAAE,CAAE1B,MAAM,CAAE,CAAE1D,MAAO,CAAC,CAAEqF,OAAO,CAAE/B,YAAY,CAAC,CAAE,CAAC,CAAC,CAC9FtC,YAAY,CAAC,QAAQ,CAAC,CACtBE,eAAe,CAAC,CAAC,CAAC,CAClBE,eAAe,CAAC,KAAK,CAAC,CACtBmC,SAAS,CAAC,CAAC,CACb,CAAC,CAED,KAAM,CAAAkC,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAA1G,GAAG,CAACqG,IAAI,CAAC,iBAAiB,CAAE,IAAI,CAAE,CAAE1B,MAAM,CAAE,CAAE1D,MAAO,CAAC,CAAEqF,OAAO,CAAE/B,YAAY,CAAC,CAAE,CAAC,CAAC,CACxF,KAAM,CAAAvE,GAAG,CAACqG,IAAI,CAAC,oBAAoB,CAAE,IAAI,CAAE,CAAEC,OAAO,CAAE/B,YAAY,CAAC,CAAE,CAAC,CAAC,CACvEtC,YAAY,CAAC,QAAQ,CAAC,CACtBE,eAAe,CAAC,CAAC,CAAC,CAClBE,eAAe,CAAC,KAAK,CAAC,CACtBI,cAAc,CAAC,EAAE,CAAC,CAClBE,cAAc,CAAC,EAAE,CAAC,CAClBwB,eAAe,CAAC,EAAE,CAAC,CACnB5B,mBAAmB,CAAC,EAAE,CAAC,CACvB0B,YAAY,CAAC,EAAE,CAAC,CAChBO,SAAS,CAAC,CAAC,CACXQ,YAAY,CAAC,CAAC,CAChB,CAAE,MAAOD,GAAG,CAAE,KAAA4B,aAAA,CAAAC,kBAAA,CACZ,KAAM,CAAAC,OAAO,CAAG,CAAA9B,GAAG,SAAHA,GAAG,kBAAA4B,aAAA,CAAH5B,GAAG,CAAE+B,QAAQ,UAAAH,aAAA,kBAAAC,kBAAA,CAAbD,aAAA,CAAe/B,IAAI,UAAAgC,kBAAA,iBAAnBA,kBAAA,CAAqBC,OAAO,GAAI,oDAAoD,CACpG5C,YAAY,CAAC4C,OAAO,CAAC,CACvB,CACF,CAAC,CAED,KAAM,CAAAE,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,KAAM,CAAA/G,GAAG,CAACqG,IAAI,CACZ,sBAAsB,CACtB,CACExB,SAAS,CAAEjD,UAAU,CACrBkD,SAAS,CAAEhD,UACb,CAAC,CACD,CAAE6C,MAAM,CAAE,CAAE1D,MAAO,CAAC,CAAEqF,OAAO,CAAE/B,YAAY,CAAC,CAAE,CAChD,CAAC,CACD5C,eAAe,CAAC,KAAK,CAAC,CACtB6C,SAAS,CAAC,CAAC,CACb,CAAC,CAED,KAAM,CAAAwC,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,KAAM,CAAAC,KAAK,CAAG3E,gBAAgB,CAC3B4E,KAAK,CAAC,IAAI,CAAC,CACXC,GAAG,CAAEC,CAAC,EAAKA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CACpB9B,MAAM,CAAE6B,CAAC,EAAKA,CAAC,CAACE,MAAM,CAAG,CAAC,CAAC,CAC9B,KAAM,CAAAtH,GAAG,CAACqG,IAAI,CAAC,mBAAmB,CAAE,CAAEkB,SAAS,CAAEN,KAAM,CAAC,CAAE,CAAEX,OAAO,CAAE/B,YAAY,CAAC,CAAE,CAAC,CAAC,CACtFS,YAAY,CAAC,CAAC,CAChB,CAAC,CAED,KAAM,CAAAwC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAxH,GAAG,CAACqG,IAAI,CAAC,oBAAoB,CAAE,IAAI,CAAE,CAAEC,OAAO,CAAE/B,YAAY,CAAC,CAAE,CAAC,CAAC,CACvE9B,cAAc,CAAC,EAAE,CAAC,CAClBE,cAAc,CAAC,EAAE,CAAC,CAClBqC,YAAY,CAAC,CAAC,CAChB,CAAC,CAED,KAAM,CAAAyC,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CAACjF,WAAW,EAAI,CAACE,WAAW,CAAE,OAClC,KAAM,CAAA1C,GAAG,CAACqG,IAAI,CACZ,0BAA0B,CAC1B,CACEqB,OAAO,CAAElF,WAAW,CACpBmF,OAAO,CAAEjF,WACX,CAAC,CACD,CAAEiC,MAAM,CAAE,CAAE1D,MAAO,CAAC,CAAEqF,OAAO,CAAE/B,YAAY,CAAC,CAAE,CAChD,CAAC,CACD,KAAM,CAAAS,YAAY,CAAC,CAAC,CACpB,KAAM,CAAAR,SAAS,CAAC,CAAC,CACnB,CAAC,CAED,KAAM,CAAAoD,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,KAAM,CAAA5H,GAAG,CAACqG,IAAI,CAAC,+BAA+B,CAAE,IAAI,CAAE,CAAE1B,MAAM,CAAE,CAAE1D,MAAO,CAAC,CAAEqF,OAAO,CAAE/B,YAAY,CAAC,CAAE,CAAC,CAAC,CACtG,KAAM,CAAAS,YAAY,CAAC,CAAC,CACtB,CAAC,CAED,KAAM,CAAA6C,WAAW,CAAGzI,WAAW,CAC5BoB,EAAE,EAAK,CACN,GAAI,CAACc,OAAO,EAAI,CAACA,OAAO,CAAC+D,KAAK,CAAE,MAAO,EAAE,CACzC,KAAM,CAAAe,IAAI,CAAG9E,OAAO,CAAC+D,KAAK,CAACyC,IAAI,CAAEtC,CAAC,EAAKA,CAAC,CAAChF,EAAE,GAAKA,EAAE,CAAC,CACnD,MAAO,CAAA4F,IAAI,CAAGA,IAAI,CAAC2B,IAAI,CAAG,EAAE,CAC9B,CAAC,CACD,CAACzG,OAAO,CACV,CAAC,CAED,KAAM,CAAA0G,OAAO,CAAG1I,OAAO,CAAC,IAAM,CAC5B,KAAM,CAAA2I,KAAK,CAAG,CAAA/G,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE8G,OAAO,GAAI,EAAE,CACjC,MAAO,CAAC,GAAGC,KAAK,CAAC,CAACC,OAAO,CAAC,CAAC,CAC7B,CAAC,CAAE,CAAChH,IAAI,CAAC,CAAC,CAEV,KAAM,CAAAiH,UAAU,CAAIC,WAAW,EAAK,CAClC,GAAI,CAAC9G,OAAO,CAAE,MAAO,KAAI,CACzB,KAAM,CAAA+G,OAAO,CAAG,CAAC/G,OAAO,CAAC+G,OAAO,EAAI,EAAE,EAAE9C,MAAM,CAAE+C,CAAC,EAAKA,CAAC,CAAChH,OAAO,GAAK8G,WAAW,CAAC,CAChF,KAAM,CAAAG,OAAO,CAAG,CAAC,CAAC,CAClBF,OAAO,CAACG,OAAO,CAAEF,CAAC,EAAK,CACrB,GAAI,CAACC,OAAO,CAACD,CAAC,CAACG,KAAK,CAAC,CAAEF,OAAO,CAACD,CAAC,CAACG,KAAK,CAAC,CAAG,EAAE,CAC5CF,OAAO,CAACD,CAAC,CAACG,KAAK,CAAC,CAACC,IAAI,CAACJ,CAAC,CAAC,CAC1B,CAAC,CAAC,CACF,KAAM,CAAAK,MAAM,CAAGC,MAAM,CAACC,IAAI,CAACN,OAAO,CAAC,CAChCpB,GAAG,CAAEC,CAAC,EAAK0B,QAAQ,CAAC1B,CAAC,CAAE,EAAE,CAAC,CAAC,CAC3B2B,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAAGC,CAAC,CAAC,CAExB,mBACEpJ,IAAA,QAAKqJ,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1BR,MAAM,CAACxB,GAAG,CAAEsB,KAAK,eAChB9I,KAAA,QAAKuJ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BxJ,KAAA,QAAKuJ,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAAC,QAAM,CAACV,KAAK,EAAM,CAAC,CACrDF,OAAO,CAACE,KAAK,CAAC,CAACtB,GAAG,CAAEmB,CAAC,eACpB3I,KAAA,QAAKuJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBxJ,KAAA,QAAKuJ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBtJ,IAAA,SAAAsJ,QAAA,CAAOtB,WAAW,CAACS,CAAC,CAACZ,OAAO,CAAC,CAAO,CAAC,cACrC7H,IAAA,SAAMqJ,SAAS,CAAC,YAAY,CAAAC,QAAA,CACzBb,CAAC,CAACc,MAAM,GAAK,IAAI,EAAId,CAAC,CAACc,MAAM,GAAKC,SAAS,CAAGf,CAAC,CAACc,MAAM,CAAG,GAAG,CACzD,CAAC,EACJ,CAAC,cACNzJ,KAAA,QAAKuJ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBtJ,IAAA,SAAAsJ,QAAA,CAAOtB,WAAW,CAACS,CAAC,CAACX,OAAO,CAAC,CAAO,CAAC,cACrC9H,IAAA,SAAMqJ,SAAS,CAAC,YAAY,CAAAC,QAAA,CACzBb,CAAC,CAACgB,MAAM,GAAK,IAAI,EAAIhB,CAAC,CAACgB,MAAM,GAAKD,SAAS,CAAGf,CAAC,CAACgB,MAAM,CAAG,GAAG,CACzD,CAAC,EACJ,CAAC,CACLhB,CAAC,CAACiB,QAAQ,eACT5J,KAAA,QAAKuJ,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,UACnB,cAAAtJ,IAAA,WAAAsJ,QAAA,CAAStB,WAAW,CAACS,CAAC,CAACiB,QAAQ,CAAC,CAAS,CAAC,EAC/C,CACN,GAjB8BjB,CAAC,CAAC9H,EAkB9B,CACN,CAAC,MAAAgJ,MAAA,CAtBiCpB,WAAW,MAAAoB,MAAA,CAAIf,KAAK,CAuBpD,CACN,CAAC,CACC,CAAC,CAEV,CAAC,CAED,KAAM,CAAAgB,WAAW,CAAG,CAAC,CAAAnI,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE+D,KAAK,GAAI,EAAE,EAAEE,MAAM,CAC9CC,CAAC,EAAK,CAACA,CAAC,CAACC,UAAU,EAAID,CAAC,CAACkE,MAAM,GAAK,CACvC,CAAC,CACD,KAAM,CAAAC,UAAU,CAAG,CAAC,CAAArI,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE+D,KAAK,GAAI,EAAE,EAAEE,MAAM,CAC7CC,CAAC,EAAK,CAACA,CAAC,CAACC,UAAU,EAAID,CAAC,CAACkE,MAAM,GAAK,CACvC,CAAC,CACD,KAAM,CAAAE,cAAc,CAAG,CAAC,CAAAtI,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE+D,KAAK,GAAI,EAAE,EAAEE,MAAM,CAAEC,CAAC,EAAKA,CAAC,CAACC,UAAU,CAAC,CAEzE,KAAM,CAAAoE,UAAU,CAAG7H,SAAS,GAAK,OAAO,CAAG,EAAE,CAAG,CAAC,CACjD,KAAM,CAAA8H,MAAM,CAAG,EAAE,CACjB,KAAM,CAAAC,aAAa,CAAG,CAAC,CAAG/D,IAAI,CAACgE,EAAE,CAAGF,MAAM,CAC1C,KAAM,CAAAG,QAAQ,CAAGnE,aAAa,CAAC,CAAC,CAChC,KAAM,CAAAoE,MAAM,CAAGH,aAAa,EAAI,CAAC,CAAGE,QAAQ,CAAC,CAC7C,KAAM,CAAAE,MAAM,CACVF,QAAQ,CAAG,GAAG,CAAG,SAAS,CAAGA,QAAQ,CAAG,IAAI,CAAG,SAAS,CAAG,SAAS,CAEtE,KAAM,CAAAG,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAA3F,GAAG,CAAG,KAAM,CAAAzE,GAAG,CAACqG,IAAI,CAAC,iBAAiB,CAAE,CAC5CgE,QAAQ,CAAE7G,aAAa,CACvB8G,QAAQ,CAAE5G,aACZ,CAAC,CAAC,CACFb,YAAY,CAAC4B,GAAG,CAACG,IAAI,CAAC2F,KAAK,CAAC,CAC5BtH,WAAW,CAACwB,GAAG,CAACG,IAAI,CAAC4F,IAAI,CAAC,CAC1BrH,eAAe,CAACsB,GAAG,CAACG,IAAI,CAACyF,QAAQ,CAAC,CAClCvH,YAAY,CAAC2H,OAAO,CAAC,WAAW,CAAEhG,GAAG,CAACG,IAAI,CAAC2F,KAAK,CAAC,CACjDzH,YAAY,CAAC2H,OAAO,CAAC,UAAU,CAAEhG,GAAG,CAACG,IAAI,CAAC4F,IAAI,CAAC,CAC/C1H,YAAY,CAAC2H,OAAO,CAAC,cAAc,CAAEhG,GAAG,CAACG,IAAI,CAACyF,QAAQ,CAAC,CACvDpG,YAAY,CAAC,EAAE,CAAC,CAClB,CAAE,MAAOc,GAAG,CAAE,KAAA2F,cAAA,CAAAC,mBAAA,CACZ,KAAM,CAAA9D,OAAO,CAAG,CAAA9B,GAAG,SAAHA,GAAG,kBAAA2F,cAAA,CAAH3F,GAAG,CAAE+B,QAAQ,UAAA4D,cAAA,kBAAAC,mBAAA,CAAbD,cAAA,CAAe9F,IAAI,UAAA+F,mBAAA,iBAAnBA,mBAAA,CAAqB9D,OAAO,GAAI,8BAA8B,CAC9E5C,YAAY,CAAC4C,OAAO,CAAC,CACvB,CACF,CAAC,CAED,KAAM,CAAA+D,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF,KAAM,CAAAnG,GAAG,CAAG,KAAM,CAAAzE,GAAG,CAACqG,IAAI,CAAC,oBAAoB,CAAE,CAC/CgE,QAAQ,CAAEzG,gBAAgB,CAC1B0G,QAAQ,CAAExG,gBACZ,CAAC,CAAC,CACFjB,YAAY,CAAC4B,GAAG,CAACG,IAAI,CAAC2F,KAAK,CAAC,CAC5BtH,WAAW,CAACwB,GAAG,CAACG,IAAI,CAAC4F,IAAI,CAAC,CAC1BrH,eAAe,CAACsB,GAAG,CAACG,IAAI,CAACyF,QAAQ,CAAC,CAClCvH,YAAY,CAAC2H,OAAO,CAAC,WAAW,CAAEhG,GAAG,CAACG,IAAI,CAAC2F,KAAK,CAAC,CACjDzH,YAAY,CAAC2H,OAAO,CAAC,UAAU,CAAEhG,GAAG,CAACG,IAAI,CAAC4F,IAAI,CAAC,CAC/C1H,YAAY,CAAC2H,OAAO,CAAC,cAAc,CAAEhG,GAAG,CAACG,IAAI,CAACyF,QAAQ,CAAC,CACvD9G,WAAW,CAAC,OAAO,CAAC,CACpBU,YAAY,CAAC,EAAE,CAAC,CAClB,CAAE,MAAOc,GAAG,CAAE,KAAA8F,cAAA,CAAAC,mBAAA,CACZ,KAAM,CAAAjE,OAAO,CAAG,CAAA9B,GAAG,SAAHA,GAAG,kBAAA8F,cAAA,CAAH9F,GAAG,CAAE+B,QAAQ,UAAA+D,cAAA,kBAAAC,mBAAA,CAAbD,cAAA,CAAejG,IAAI,UAAAkG,mBAAA,iBAAnBA,mBAAA,CAAqBjE,OAAO,GAAI,qBAAqB,CACrE5C,YAAY,CAAC4C,OAAO,CAAC,CACvB,CACF,CAAC,CAED,KAAM,CAAAkE,mBAAmB,CAAG,KAAAA,CAAOC,WAAW,CAAEC,WAAW,GAAK,CAC9D,GAAI,CACF,KAAM,CAAAxG,GAAG,CAAG,KAAM,CAAAzE,GAAG,CAACqG,IAAI,CACxB,0BAA0B,CAC1B,CAAE2E,WAAW,CAAEC,WAAY,CAAC,CAC5B,CAAE3E,OAAO,CAAE/B,YAAY,CAAC,CAAE,CAC5B,CAAC,CACDpB,eAAe,CAACsB,GAAG,CAACG,IAAI,CAACyF,QAAQ,CAAC,CAClCpH,WAAW,CAACwB,GAAG,CAACG,IAAI,CAAC4F,IAAI,CAAC,CAC1B1H,YAAY,CAAC2H,OAAO,CAAC,cAAc,CAAEhG,GAAG,CAACG,IAAI,CAACyF,QAAQ,CAAC,CACvDvH,YAAY,CAAC2H,OAAO,CAAC,UAAU,CAAEhG,GAAG,CAACG,IAAI,CAAC4F,IAAI,CAAC,CAC/CvG,YAAY,CAAC,iBAAiB,CAAC,CACjC,CAAE,MAAOc,GAAG,CAAE,KAAAmG,cAAA,CAAAC,mBAAA,CACZ,KAAM,CAAAtE,OAAO,CAAG,CAAA9B,GAAG,SAAHA,GAAG,kBAAAmG,cAAA,CAAHnG,GAAG,CAAE+B,QAAQ,UAAAoE,cAAA,kBAAAC,mBAAA,CAAbD,cAAA,CAAetG,IAAI,UAAAuG,mBAAA,iBAAnBA,mBAAA,CAAqBtE,OAAO,GAAI,eAAe,CAC/D5C,YAAY,CAAC4C,OAAO,CAAC,CACvB,CACF,CAAC,CAED,KAAM,CAAAuE,YAAY,CAAGA,CAAA,GAAM,CACzBvI,YAAY,CAAC,EAAE,CAAC,CAChBI,WAAW,CAAC,EAAE,CAAC,CACfE,eAAe,CAAC,EAAE,CAAC,CACnBL,YAAY,CAACuI,UAAU,CAAC,WAAW,CAAC,CACpCvI,YAAY,CAACuI,UAAU,CAAC,UAAU,CAAC,CACnCvI,YAAY,CAACuI,UAAU,CAAC,cAAc,CAAC,CACzC,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIC,MAAM,EAAK,CACnC,GAAI,CAACjK,OAAO,EAAI,CAACiK,MAAM,CAAE,MAAO,KAAI,CACpC,KAAM,CAAAC,OAAO,CAAG,CAAClK,OAAO,CAAC+G,OAAO,EAAI,EAAE,EAAEP,IAAI,CACzCQ,CAAC,EAAK,CAACA,CAAC,CAACmD,SAAS,GAAKnD,CAAC,CAACZ,OAAO,GAAK6D,MAAM,EAAIjD,CAAC,CAACX,OAAO,GAAK4D,MAAM,CACtE,CAAC,CACD,GAAIC,OAAO,CAAE,CACX,MAAO,CACLlK,OAAO,CAAEkK,OAAO,CAAClK,OAAO,CACxBmH,KAAK,CAAE+C,OAAO,CAAC/C,KAAK,CACpBiD,QAAQ,CACNF,OAAO,CAAC9D,OAAO,GAAK6D,MAAM,CAAG1D,WAAW,CAAC2D,OAAO,CAAC7D,OAAO,CAAC,CAAGE,WAAW,CAAC2D,OAAO,CAAC9D,OAAO,CAC3F,CAAC,CACH,CACA,KAAM,CAAAiE,YAAY,CAAG,CAACrK,OAAO,CAACsK,qBAAqB,EAAI,EAAE,EAAE9D,IAAI,CAC5D+D,CAAC,EAAKA,CAAC,CAACnE,OAAO,GAAK6D,MAAM,EAAIM,CAAC,CAAClE,OAAO,GAAK4D,MAC/C,CAAC,CACD,GAAII,YAAY,CAAE,CAChB,KAAM,CAAAD,QAAQ,CACZC,YAAY,CAACjE,OAAO,GAAK6D,MAAM,CAC3B1D,WAAW,CAAC8D,YAAY,CAAChE,OAAO,CAAC,CACjCE,WAAW,CAAC8D,YAAY,CAACjE,OAAO,CAAC,CACvC,MAAO,CAAEpG,OAAO,CAAE,SAAS,CAAEmH,KAAK,CAAE,KAAK,CAAEiD,QAAQ,CAAEI,MAAM,CAAE,0BAA2B,CAAC,CAC3F,CACA,KAAM,CAAAC,aAAa,CAAG,CAACzK,OAAO,CAAC0K,oBAAoB,EAAI,EAAE,EAAElE,IAAI,CAC5D+D,CAAC,EAAKA,CAAC,CAACnE,OAAO,GAAK6D,MAAM,EAAIM,CAAC,CAAClE,OAAO,GAAK4D,MAC/C,CAAC,CACD,GAAIQ,aAAa,CAAE,CACjB,KAAM,CAAAL,QAAQ,CACZK,aAAa,CAACrE,OAAO,GAAK6D,MAAM,CAC5B1D,WAAW,CAACkE,aAAa,CAACpE,OAAO,CAAC,CAClCE,WAAW,CAACkE,aAAa,CAACrE,OAAO,CAAC,CACxC,MAAO,CAAEpG,OAAO,CAAE,QAAQ,CAAEmH,KAAK,CAAE,KAAK,CAAEiD,QAAQ,CAAEI,MAAM,CAAE,yBAA0B,CAAC,CACzF,CACA,KAAM,CAAA1F,IAAI,CAAG,CAAC9E,OAAO,CAAC+D,KAAK,EAAI,EAAE,EAAEyC,IAAI,CAAEtC,CAAC,EAAKA,CAAC,CAAChF,EAAE,GAAK+K,MAAM,CAAC,CAC/D,GAAInF,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEX,UAAU,CAAE,CACpB,MAAO,CAAEqG,MAAM,CAAE,YAAa,CAAC,CACjC,CACA,GAAIxK,OAAO,CAAC2K,QAAQ,CAAE,CACpB,MAAO,CAAEH,MAAM,CAAE,kBAAmB,CAAC,CACvC,CACA,MAAO,CAAEA,MAAM,CAAE,wBAAyB,CAAC,CAC7C,CAAC,CAED,KAAM,CAAAI,eAAe,CAAGZ,gBAAgB,CAACpH,YAAY,CAAC,CAEtD,KAAM,CAAAiI,OAAO,CAAGnJ,QAAQ,GAAK,OAAO,CAEpC,GAAI,CAACJ,SAAS,CAAE,CACd,mBACE/C,IAAA,QAAKqJ,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBxJ,KAAA,QAAKuJ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxJ,KAAA,QAAKuJ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BtJ,IAAA,WACEqJ,SAAS,QAAAM,MAAA,CAASlG,QAAQ,GAAK,OAAO,CAAG,QAAQ,CAAG,EAAE,CAAG,CACzD8I,OAAO,CAAEA,CAAA,GAAM7I,WAAW,CAAC,OAAO,CAAE,CAAA4F,QAAA,CACrC,OAED,CAAQ,CAAC,cACTtJ,IAAA,WACEqJ,SAAS,QAAAM,MAAA,CAASlG,QAAQ,GAAK,UAAU,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC5D8I,OAAO,CAAEA,CAAA,GAAM7I,WAAW,CAAC,UAAU,CAAE,CAAA4F,QAAA,CACxC,UAED,CAAQ,CAAC,EACN,CAAC,CACL7F,QAAQ,GAAK,OAAO,cACnB3D,KAAA,CAAAI,SAAA,EAAAoJ,QAAA,eACEtJ,IAAA,OAAAsJ,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBtJ,IAAA,MAAGqJ,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,gDAA8C,CAAG,CAAC,cACvEtJ,IAAA,UACEwM,KAAK,CAAE7I,aAAc,CACrB8I,QAAQ,CAAGC,CAAC,EAAK9I,gBAAgB,CAAC8I,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAClDI,WAAW,CAAC,UAAU,CACvB,CAAC,cACF5M,IAAA,UACE6M,IAAI,CAAC,UAAU,CACfL,KAAK,CAAE3I,aAAc,CACrB4I,QAAQ,CAAGC,CAAC,EAAK5I,gBAAgB,CAAC4I,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAClDI,WAAW,CAAC,UAAU,CACvB,CAAC,cACF5M,IAAA,WAAQqJ,SAAS,CAAC,aAAa,CAACkD,OAAO,CAAEhC,WAAY,CAAAjB,QAAA,CAAC,SAEtD,CAAQ,CAAC,EACT,CAAC,CACD7F,QAAQ,GAAK,UAAU,cACzB3D,KAAA,CAAAI,SAAA,EAAAoJ,QAAA,eACEtJ,IAAA,OAAAsJ,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5BtJ,IAAA,UACEwM,KAAK,CAAEzI,gBAAiB,CACxB0I,QAAQ,CAAGC,CAAC,EAAK1I,mBAAmB,CAAC0I,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACrDI,WAAW,CAAC,iBAAiB,CAC9B,CAAC,cACF5M,IAAA,UACE6M,IAAI,CAAC,UAAU,CACfL,KAAK,CAAEvI,gBAAiB,CACxBwI,QAAQ,CAAGC,CAAC,EAAKxI,mBAAmB,CAACwI,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACrDI,WAAW,CAAC,iBAAiB,CAC9B,CAAC,cACF5M,IAAA,WAAQqJ,SAAS,CAAC,aAAa,CAACkD,OAAO,CAAExB,cAAe,CAAAzB,QAAA,CAAC,qBAEzD,CAAQ,CAAC,EACT,CAAC,CACD,IAAI,CACPnF,SAAS,eAAInE,IAAA,QAAKqJ,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEnF,SAAS,CAAM,CAAC,EACxD,CAAC,CACH,CAAC,CAEV,CAEA,mBACErE,KAAA,QAAKuJ,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBxJ,KAAA,WAAQuJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC5BtJ,IAAA,QAAKqJ,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,kBAAgB,CAAK,CAAC,cAC5CxJ,KAAA,QAAKuJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BxJ,KAAA,QAAKuJ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBtJ,IAAA,QAAKqJ,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEjG,YAAY,EAAI,MAAM,CAAM,CAAC,cACzDvD,KAAA,QAAKuJ,SAAS,CAAC,WAAW,CAAAC,QAAA,EAAC,GAAC,CAACgD,OAAO,CAAG,eAAe,CAAG,QAAQ,CAAC,GAAC,EAAK,CAAC,cACzEtM,IAAA,WACEqJ,SAAS,CAAC,qBAAqB,CAC/BkD,OAAO,CAAEA,CAAA,GAAMrB,mBAAmB,CAAC4B,MAAM,CAAC,oCAAoC,CAAE,EAAE,CAAC,CAAEA,MAAM,CAAC,oCAAoC,CAAE,EAAE,CAAC,CAAE,CAAAxD,QAAA,CACxI,gBAED,CAAQ,CAAC,cACTtJ,IAAA,WAAQqJ,SAAS,CAAC,WAAW,CAACkD,OAAO,CAAEhB,YAAa,CAAAjC,QAAA,CAAC,QAErD,CAAQ,CAAC,EACN,CAAC,cACNxJ,KAAA,QAAKuJ,SAAS,CAAC,MAAM,CAAAC,QAAA,EAClBgD,OAAO,eACNtM,IAAA,WACEqJ,SAAS,QAAAM,MAAA,CAASzI,IAAI,GAAK,SAAS,CAAG,QAAQ,CAAG,EAAE,CAAG,CACvDqL,OAAO,CAAEA,CAAA,GAAMpL,OAAO,CAAC,SAAS,CAAE,CAAAmI,QAAA,CACnC,SAED,CAAQ,CACT,cACDtJ,IAAA,WACEqJ,SAAS,QAAAM,MAAA,CAASzI,IAAI,GAAK,SAAS,CAAG,QAAQ,CAAG,EAAE,CAAG,CACvDqL,OAAO,CAAEA,CAAA,GAAMpL,OAAO,CAAC,SAAS,CAAE,CAAAmI,QAAA,CACnC,SAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACA,CAAC,CAERpI,IAAI,GAAK,SAAS,EAAIoL,OAAO,eAC5BxM,KAAA,CAAAI,SAAA,EAAAoJ,QAAA,eACExJ,KAAA,QAAKuJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BxJ,KAAA,QAAKuJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BxJ,KAAA,QAAKuJ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BtJ,IAAA,OAAAsJ,QAAA,CAAI,cAAgB,CAAI,CAAC,cACzBxJ,KAAA,QAAKuJ,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtJ,IAAA,WACEqJ,SAAS,SAAAM,MAAA,CAAUxH,SAAS,GAAK,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC5DoK,OAAO,CAAEA,CAAA,GAAM,CACbnK,YAAY,CAAC,QAAQ,CAAC,CACtBE,eAAe,CAAC,CAAC,CAAC,CAClBE,eAAe,CAAC,KAAK,CAAC,CACxB,CAAE,CAAA8G,QAAA,CACH,aAED,CAAQ,CAAC,cACTtJ,IAAA,WACEqJ,SAAS,SAAAM,MAAA,CAAUxH,SAAS,GAAK,OAAO,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC3DoK,OAAO,CAAEA,CAAA,GAAM,CACbnK,YAAY,CAAC,OAAO,CAAC,CACrBE,eAAe,CAAC,EAAE,CAAC,CACnBE,eAAe,CAAC,KAAK,CAAC,CACxB,CAAE,CAAA8G,QAAA,CACH,aAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cACNxJ,KAAA,QAAKuJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBxJ,KAAA,QAAKuJ,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BxJ,KAAA,QAAKuJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBxJ,KAAA,QAAKiN,MAAM,CAAC,KAAK,CAACC,KAAK,CAAC,KAAK,CAAA1D,QAAA,eAC3BtJ,IAAA,WACEiN,EAAE,CAAC,IAAI,CACPC,EAAE,CAAC,IAAI,CACPC,CAAC,CAAElD,MAAO,CACVK,MAAM,CAAC,SAAS,CAChB8C,WAAW,CAAC,IAAI,CAChBC,IAAI,CAAC,MAAM,CACXhE,SAAS,CAAC,aAAa,CACxB,CAAC,cACFrJ,IAAA,WACEiN,EAAE,CAAC,IAAI,CACPC,EAAE,CAAC,IAAI,CACPC,CAAC,CAAElD,MAAO,CACVK,MAAM,CAAEA,MAAO,CACf8C,WAAW,CAAC,IAAI,CAChBC,IAAI,CAAC,MAAM,CACXC,eAAe,CAAEpD,aAAc,CAC/BqD,gBAAgB,CAAElD,MAAO,CACzBmD,SAAS,CAAC,mBAAmB,CAC7BC,aAAa,CAAC,OAAO,CACrBpE,SAAS,CAAC,gBAAgB,CAC3B,CAAC,EACC,CAAC,cACNvJ,KAAA,QAAKuJ,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BxJ,KAAA,QAAKuJ,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAEjH,YAAY,CAAC,GAAC,EAAK,CAAC,cAClDvC,KAAA,QAAKuJ,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAC9BnH,SAAS,GAAK,OAAO,CAAG,OAAO,CAAG,QAAQ,CAAC,QAC9C,EAAK,CAAC,EACH,CAAC,EACH,CAAC,cACNrC,KAAA,QAAKuJ,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BtJ,IAAA,WACEqJ,SAAS,CAAC,aAAa,CACvBkD,OAAO,CAAEA,CAAA,GAAM1G,kBAAkB,CAAC1D,SAAS,CAAE,CAC7CuL,QAAQ,CAAE,CAACpB,OAAQ,CAAAhD,QAAA,CACpB,OAED,CAAQ,CAAC,cACTtJ,IAAA,WAAQqJ,SAAS,CAAC,WAAW,CAACkD,OAAO,CAAExG,UAAW,CAAC2H,QAAQ,CAAE,CAACpB,OAAQ,CAAAhD,QAAA,CAAC,OAEvE,CAAQ,CAAC,cACTtJ,IAAA,WAAQqJ,SAAS,CAAC,WAAW,CAACkD,OAAO,CAAEvG,UAAW,CAAC0H,QAAQ,CAAE,CAACpB,OAAQ,CAAAhD,QAAA,CAAC,OAEvE,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cACNxJ,KAAA,QAAKuJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtJ,IAAA,MAAGqJ,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,2CAAyC,CAAG,CAAC,cAClEtJ,IAAA,MAAGqJ,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,+EAErB,CAAG,CAAC,cACJtJ,IAAA,MAAGqJ,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,0DAAwD,CAAG,CAAC,EAC9E,CAAC,EACH,CAAC,EACH,CAAC,cAENtJ,IAAA,QAAKqJ,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cACnCxJ,KAAA,QAAKuJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBxJ,KAAA,QAAKuJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBxJ,KAAA,QAAKuJ,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtJ,IAAA,SAAMqJ,SAAS,CAAC,WAAW,CAAE,CAAC,CAC7BxH,YAAY,cACX7B,IAAA,UACEwM,KAAK,CAAEzK,UAAW,CAClB0K,QAAQ,CAAGC,CAAC,EAAK1K,aAAa,CAAC0K,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChD,CAAC,cAEFxM,IAAA,SAAMqJ,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAE,CAAAjI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE2D,SAAS,GAAI,QAAQ,CAAO,CAChE,EACE,CAAC,cACNhF,IAAA,QAAKqJ,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAAvI,gBAAA,CAAEM,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsM,UAAU,UAAA5M,gBAAA,UAAAA,gBAAA,CAAI,CAAC,CAAM,CAAC,EACtD,CAAC,cAENjB,KAAA,QAAKuJ,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtJ,IAAA,QAAKqJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,UAAQ,CAAK,CAAC,cAC9CxJ,KAAA,QAAKuJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAAC,GAAC,EAAAtI,oBAAA,CAACK,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEuM,cAAc,UAAA5M,oBAAA,UAAAA,oBAAA,CAAI,CAAC,EAAM,CAAC,cACnElB,KAAA,QAAKuJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BtJ,IAAA,WAAQqJ,SAAS,CAAC,aAAa,CAACkD,OAAO,CAAE3F,gBAAiB,CAAC8G,QAAQ,CAAE,CAACpB,OAAQ,CAAAhD,QAAA,CAAC,aAE/E,CAAQ,CAAC,cACTtJ,IAAA,WAAQqJ,SAAS,CAAC,WAAW,CAACkD,OAAO,CAAE1F,eAAgB,CAAC6G,QAAQ,CAAE,CAACpB,OAAQ,CAAAhD,QAAA,CAAC,YAE5E,CAAQ,CAAC,EACN,CAAC,cACNxJ,KAAA,QAAKuJ,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtJ,IAAA,WACEqJ,SAAS,eAAAM,MAAA,CAAgB9H,YAAY,CAAG,QAAQ,CAAG,EAAE,CAAG,CACxD0K,OAAO,CAAEA,CAAA,GAAMzK,eAAe,CAAE+L,CAAC,EAAK,CAACA,CAAC,CAAE,CAAAvE,QAAA,CAEzCzH,YAAY,CAAG,UAAU,CAAG,YAAY,CACnC,CAAC,CACRA,YAAY,eACX7B,IAAA,WAAQqJ,SAAS,CAAC,aAAa,CAACkD,OAAO,CAAErF,eAAgB,CAAAoC,QAAA,CAAC,YAE1D,CAAQ,CACT,EACE,CAAC,EACH,CAAC,cAENxJ,KAAA,QAAKuJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBxJ,KAAA,QAAKuJ,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtJ,IAAA,SAAMqJ,SAAS,CAAC,WAAW,CAAE,CAAC,CAC7BxH,YAAY,cACX7B,IAAA,UACEwM,KAAK,CAAEvK,UAAW,CAClBwK,QAAQ,CAAGC,CAAC,EAAKxK,aAAa,CAACwK,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChD,CAAC,cAEFxM,IAAA,SAAMqJ,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAE,CAAAjI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE4D,SAAS,GAAI,QAAQ,CAAO,CAChE,EACE,CAAC,cACNjF,IAAA,QAAKqJ,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAArI,gBAAA,CAAEI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEyM,UAAU,UAAA7M,gBAAA,UAAAA,gBAAA,CAAI,CAAC,CAAM,CAAC,EACtD,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,cAENnB,KAAA,QAAKuJ,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCxJ,KAAA,QAAKuJ,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCxJ,KAAA,QAAKuJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BtJ,IAAA,OAAAsJ,QAAA,CAAI,SAAO,CAAI,CAAC,cAChBtJ,IAAA,SAAMqJ,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,oCAAkC,CAAM,CAAC,EAC9D,CAAC,cACNxJ,KAAA,QAAKuJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BtJ,IAAA,QAAKqJ,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,SAAO,CAAK,CAAC,cAC5CxJ,KAAA,QAAKuJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBxJ,KAAA,WAAQuJ,SAAS,CAAC,kBAAkB,CAACkD,OAAO,CAAEA,CAAA,GAAMjG,WAAW,CAAC,GAAG,CAAE,CAACoH,QAAQ,CAAE,CAACpB,OAAQ,CAAAhD,QAAA,EAAC,oBAC3E,CAAC,CAAAjI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE2D,SAAS,GAAI,QAAQ,EACnC,CAAC,cACTlF,KAAA,WAAQuJ,SAAS,CAAC,kBAAkB,CAACkD,OAAO,CAAEA,CAAA,GAAMjG,WAAW,CAAC,GAAG,CAAE,CAACoH,QAAQ,CAAE,CAACpB,OAAQ,CAAAhD,QAAA,EAAC,oBAC3E,CAAC,CAAAjI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE4D,SAAS,GAAI,QAAQ,EACnC,CAAC,EACN,CAAC,EACH,CAAC,cACNnF,KAAA,QAAKuJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BtJ,IAAA,QAAKqJ,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,OAAK,CAAK,CAAC,cAC1CtJ,IAAA,QAAKqJ,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBtJ,IAAA,WACEqJ,SAAS,CAAC,gBAAgB,CAC1BqE,QAAQ,CAAE,EAACrM,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAE0M,gBAAgB,GAAI,CAACzB,OAAQ,CAC9CC,OAAO,CAAE7F,UAAW,CAAA4C,QAAA,CAEnB,CAAAjI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE0M,gBAAgB,IAAK,GAAG,qBAAApE,MAAA,CACZ,CAAAtI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE2D,SAAS,GAAI,QAAQ,EAC1C,CAAA3D,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE0M,gBAAgB,IAAK,GAAG,qBAAApE,MAAA,CACf,CAAAtI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE4D,SAAS,GAAI,QAAQ,EAC1C,0BAA0B,CACxB,CAAC,CACN,CAAC,cACNjF,IAAA,QAAKqJ,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,2EAElC,CAAK,CAAC,EACH,CAAC,EACH,CAAC,cAENxJ,KAAA,QAAKuJ,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCxJ,KAAA,QAAKuJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BtJ,IAAA,OAAAsJ,QAAA,CAAI,gBAAc,CAAI,CAAC,CACtB/H,WAAW,eAAIvB,IAAA,SAAMqJ,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,eAAQ,CAAM,CAAC,EACpD,CAAC,cACNxJ,KAAA,QAAKuJ,SAAS,CAAC,cAAc,CAAAC,QAAA,EAC1BnB,OAAO,CAACb,GAAG,CAAC,CAAC0G,EAAE,CAAEC,GAAG,gBACnBnO,KAAA,QAAKuJ,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtJ,IAAA,QAAKqJ,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAE0E,EAAE,CAACnB,IAAI,CAAM,CAAC,cAC7C7M,IAAA,QAAKqJ,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAE0E,EAAE,CAACE,WAAW,CAAM,CAAC,cACpDlO,IAAA,QAAKqJ,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1B,GAAI,CAAA6E,IAAI,CAACH,EAAE,CAACI,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,CACzC,CAAC,MAAA1E,MAAA,CAL8BqE,EAAE,CAACI,SAAS,MAAAzE,MAAA,CAAIsE,GAAG,CAMpD,CACN,CAAC,CACD9F,OAAO,CAACV,MAAM,GAAK,CAAC,eAAIzH,IAAA,QAAKqJ,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,gBAAc,CAAK,CAAC,EACjE,CAAC,EACH,CAAC,EACH,CAAC,EACN,CACH,CAEApI,IAAI,GAAK,SAAS,eACjBpB,KAAA,QAAKuJ,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAC5BgD,OAAO,GAAK,EAAC7K,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAE+D,KAAK,GAAI,CAAA/D,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE+D,KAAK,CAACiC,MAAM,IAAK,CAAC,CAAC,eAC1D3H,KAAA,QAAKuJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BxJ,KAAA,QAAKuJ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BtJ,IAAA,OAAAsJ,QAAA,CAAI,yBAA2B,CAAI,CAAC,CACnC3H,cAAc,eAAI3B,IAAA,SAAMqJ,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,eAAQ,CAAM,CAAC,EACvD,CAAC,cACNtJ,IAAA,aACEqJ,SAAS,CAAC,kBAAkB,CAC5BuD,WAAW,CAAC,yBAAyB,CACrCJ,KAAK,CAAE/J,gBAAiB,CACxBgK,QAAQ,CAAGC,CAAC,EAAKhK,mBAAmB,CAACgK,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACtD,CAAC,cACF1M,KAAA,QAAKuJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtJ,IAAA,WAAQqJ,SAAS,CAAC,aAAa,CAACkD,OAAO,CAAEpF,WAAY,CAACuG,QAAQ,CAAE,CAACpB,OAAQ,CAAAhD,QAAA,CAAC,oBAE1E,CAAQ,CAAC,cACTtJ,IAAA,WAAQqJ,SAAS,CAAC,WAAW,CAACkD,OAAO,CAAE5E,YAAa,CAAC+F,QAAQ,CAAE,CAACpB,OAAQ,CAAAhD,QAAA,CAAC,eAEzE,CAAQ,CAAC,EACN,CAAC,cAENxJ,KAAA,QAAKuJ,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBxJ,KAAA,QAAKuJ,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBtJ,IAAA,UAAAsJ,QAAA,CAAO,iBAAe,CAAO,CAAC,cAC9BxJ,KAAA,WAAQ0M,KAAK,CAAE7J,WAAY,CAAC8J,QAAQ,CAAGC,CAAC,EAAK9J,cAAc,CAAC8J,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAlD,QAAA,eAC1EtJ,IAAA,WAAQwM,KAAK,CAAC,EAAE,CAAAlD,QAAA,CAAC,aAAW,CAAQ,CAAC,CACpC,CAAC,CAAA7H,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE+D,KAAK,GAAI,EAAE,EACnBE,MAAM,CAAEC,CAAC,EAAK,CAACA,CAAC,CAACC,UAAU,CAAC,CAC5B0B,GAAG,CAAE3B,CAAC,eACL3F,IAAA,WAAmBwM,KAAK,CAAE7G,CAAC,CAAChF,EAAG,CAAA2I,QAAA,CAC5B3D,CAAC,CAACuC,IAAI,EADIvC,CAAC,CAAChF,EAEP,CACT,CAAC,EACE,CAAC,EACN,CAAC,cACNb,KAAA,QAAKuJ,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBtJ,IAAA,UAAAsJ,QAAA,CAAO,kBAAgB,CAAO,CAAC,cAC/BxJ,KAAA,WAAQ0M,KAAK,CAAE3J,WAAY,CAAC4J,QAAQ,CAAGC,CAAC,EAAK5J,cAAc,CAAC4J,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAlD,QAAA,eAC1EtJ,IAAA,WAAQwM,KAAK,CAAC,EAAE,CAAAlD,QAAA,CAAC,aAAW,CAAQ,CAAC,CACpC,CAAC,CAAA7H,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE+D,KAAK,GAAI,EAAE,EACnBE,MAAM,CAAEC,CAAC,EAAK,CAACA,CAAC,CAACC,UAAU,CAAC,CAC5B0B,GAAG,CAAE3B,CAAC,eACL3F,IAAA,WAAmBwM,KAAK,CAAE7G,CAAC,CAAChF,EAAG,CAAA2I,QAAA,CAC5B3D,CAAC,CAACuC,IAAI,EADIvC,CAAC,CAAChF,EAEP,CACT,CAAC,EACE,CAAC,EACN,CAAC,EACH,CAAC,cACNb,KAAA,QAAKuJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBtJ,IAAA,WAAQqJ,SAAS,CAAC,aAAa,CAACkD,OAAO,CAAE3E,iBAAkB,CAAC8F,QAAQ,CAAE,CAACpB,OAAQ,CAAAhD,QAAA,CAAC,sBAEhF,CAAQ,CAAC,cACTtJ,IAAA,WAAQqJ,SAAS,CAAC,WAAW,CAACkD,OAAO,CAAExE,oBAAqB,CAAC2F,QAAQ,CAAE,CAACpB,OAAQ,CAAAhD,QAAA,CAAC,wBAEjF,CAAQ,CAAC,EACN,CAAC,cAENxJ,KAAA,QAAKuJ,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBxJ,KAAA,QAAKuJ,SAAS,CAAC,qBAAqB,CAAAC,QAAA,EAAC,UAC3B,CAAC,GAAG,CACXM,WAAW,CAACnC,MAAM,CACfmC,WAAW,CAACtC,GAAG,CAAE3B,CAAC,EAAKA,CAAC,CAACuC,IAAI,CAAC,CAACoG,IAAI,CAAC,IAAI,CAAC,CACzC,GAAG,EACJ,CAAC,cACNxO,KAAA,QAAKuJ,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAC,SAC3B,CAAC,GAAG,CACVQ,UAAU,CAACrC,MAAM,CAAGqC,UAAU,CAACxC,GAAG,CAAE3B,CAAC,EAAKA,CAAC,CAACuC,IAAI,CAAC,CAACoG,IAAI,CAAC,IAAI,CAAC,CAAG,GAAG,EAChE,CAAC,cACNxO,KAAA,QAAKuJ,SAAS,CAAC,wBAAwB,CAAAC,QAAA,EAAC,aAC3B,CAAC,GAAG,CACdS,cAAc,CAACtC,MAAM,CAClBsC,cAAc,CAACzC,GAAG,CAAE3B,CAAC,EAAKA,CAAC,CAACuC,IAAI,CAAC,CAACoG,IAAI,CAAC,IAAI,CAAC,CAC5C,GAAG,EACJ,CAAC,EACH,CAAC,cAENxO,KAAA,QAAKuJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAC7B,CAAA7H,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE8M,uBAAuB,IAAI9M,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE+M,uBAAuB,gBACnE1O,KAAA,QAAKuJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAAC,qBACZ,CAAC,GAAG,cACvBxJ,KAAA,WAAAwJ,QAAA,EACGtB,WAAW,CAACvG,OAAO,CAAC8M,uBAAuB,CAAC,CAAC,KAAG,CAAC,GAAG,CACpDvG,WAAW,CAACvG,OAAO,CAAC+M,uBAAuB,CAAC,EACvC,CAAC,EACN,CACN,CACA,CAAA/M,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEgN,sBAAsB,IAAIhN,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEiN,sBAAsB,gBACjE5O,KAAA,QAAKuJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAAC,oBACb,CAAC,GAAG,cACtBxJ,KAAA,WAAAwJ,QAAA,EACGtB,WAAW,CAACvG,OAAO,CAACgN,sBAAsB,CAAC,CAAC,KAAG,CAAC,GAAG,CACnDzG,WAAW,CAACvG,OAAO,CAACiN,sBAAsB,CAAC,EACtC,CAAC,EACN,CACN,EACE,CAAC,EACH,CACN,cAED5O,KAAA,QAAKuJ,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAC/BgD,OAAO,EAAI,CAAC,CAAA7K,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE+D,KAAK,GAAI,EAAE,EAAEiC,MAAM,CAAG,CAAC,eAC3C3H,KAAA,QAAKuJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BxJ,KAAA,QAAKuJ,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBtJ,IAAA,UAAAsJ,QAAA,CAAO,iBAAe,CAAO,CAAC,cAC9BxJ,KAAA,WAAQ0M,KAAK,CAAE7J,WAAY,CAAC8J,QAAQ,CAAGC,CAAC,EAAK9J,cAAc,CAAC8J,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAlD,QAAA,eAC1EtJ,IAAA,WAAQwM,KAAK,CAAC,EAAE,CAAAlD,QAAA,CAAC,aAAW,CAAQ,CAAC,CACpC,CAAC,CAAA7H,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE+D,KAAK,GAAI,EAAE,EACnBE,MAAM,CAAEC,CAAC,EAAK,CAACA,CAAC,CAACC,UAAU,CAAC,CAC5B0B,GAAG,CAAE3B,CAAC,eACL3F,IAAA,WAAmBwM,KAAK,CAAE7G,CAAC,CAAChF,EAAG,CAAA2I,QAAA,CAC5B3D,CAAC,CAACuC,IAAI,EADIvC,CAAC,CAAChF,EAEP,CACT,CAAC,EACE,CAAC,EACN,CAAC,cACNb,KAAA,QAAKuJ,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBtJ,IAAA,UAAAsJ,QAAA,CAAO,kBAAgB,CAAO,CAAC,cAC/BxJ,KAAA,WAAQ0M,KAAK,CAAE3J,WAAY,CAAC4J,QAAQ,CAAGC,CAAC,EAAK5J,cAAc,CAAC4J,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAlD,QAAA,eAC1EtJ,IAAA,WAAQwM,KAAK,CAAC,EAAE,CAAAlD,QAAA,CAAC,aAAW,CAAQ,CAAC,CACpC,CAAC,CAAA7H,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE+D,KAAK,GAAI,EAAE,EACnBE,MAAM,CAAEC,CAAC,EAAK,CAACA,CAAC,CAACC,UAAU,CAAC,CAC5B0B,GAAG,CAAE3B,CAAC,eACL3F,IAAA,WAAmBwM,KAAK,CAAE7G,CAAC,CAAChF,EAAG,CAAA2I,QAAA,CAC5B3D,CAAC,CAACuC,IAAI,EADIvC,CAAC,CAAChF,EAEP,CACT,CAAC,EACE,CAAC,EACN,CAAC,cACNX,IAAA,WAAQqJ,SAAS,CAAC,aAAa,CAACkD,OAAO,CAAE3E,iBAAkB,CAAC8F,QAAQ,CAAE,CAACpB,OAAQ,CAAAhD,QAAA,CAAC,cAEhF,CAAQ,CAAC,cACTtJ,IAAA,WAAQqJ,SAAS,CAAC,WAAW,CAACkD,OAAO,CAAExE,oBAAqB,CAAC2F,QAAQ,CAAE,CAACpB,OAAQ,CAAAhD,QAAA,CAAC,kBAEjF,CAAQ,CAAC,EACN,CACN,cACDxJ,KAAA,QAAKuJ,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BxJ,KAAA,QAAAwJ,QAAA,eACExJ,KAAA,QAAKuJ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BtJ,IAAA,OAAAsJ,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBtJ,IAAA,QAAKqJ,SAAS,CAAC,aAAa,CAAAC,QAAA,CACzBM,WAAW,CAACtC,GAAG,CAAE3B,CAAC,EAAKA,CAAC,CAACuC,IAAI,CAAC,CAACoG,IAAI,CAAC,KAAK,CAAC,CACxC,CAAC,CACL,CAAA7M,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEsK,qBAAqB,GAAItK,OAAO,CAACsK,qBAAqB,CAACtE,MAAM,CAAG,CAAC,eACzEzH,IAAA,QAAKqJ,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1B7H,OAAO,CAACsK,qBAAqB,CAACzE,GAAG,CAAC,CAAC0E,CAAC,CAAEiC,GAAG,gBACxCnO,KAAA,QAAKuJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAC7BtB,WAAW,CAACgE,CAAC,CAACnE,OAAO,CAAC,CAAC,MAAI,CAACG,WAAW,CAACgE,CAAC,CAAClE,OAAO,CAAC,QAAA6B,MAAA,CADVqC,CAAC,CAACnE,OAAO,MAAA8B,MAAA,CAAIqC,CAAC,CAAClE,OAAO,MAAA6B,MAAA,CAAIsE,GAAG,CAEnE,CACN,CAAC,CACC,CACN,EACE,CAAC,CACL3F,UAAU,CAAC,SAAS,CAAC,EACnB,CAAC,cACNxI,KAAA,QAAAwJ,QAAA,eACExJ,KAAA,QAAKuJ,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BtJ,IAAA,OAAAsJ,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBtJ,IAAA,QAAKqJ,SAAS,CAAC,aAAa,CAAAC,QAAA,CACzBQ,UAAU,CAACxC,GAAG,CAAE3B,CAAC,EAAKA,CAAC,CAACuC,IAAI,CAAC,CAACoG,IAAI,CAAC,KAAK,CAAC,CACvC,CAAC,CACL,CAAA7M,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE0K,oBAAoB,GAAI1K,OAAO,CAAC0K,oBAAoB,CAAC1E,MAAM,CAAG,CAAC,eACvEzH,IAAA,QAAKqJ,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1B7H,OAAO,CAAC0K,oBAAoB,CAAC7E,GAAG,CAAC,CAAC0E,CAAC,CAAEiC,GAAG,gBACvCnO,KAAA,QAAKuJ,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EAC7BtB,WAAW,CAACgE,CAAC,CAACnE,OAAO,CAAC,CAAC,MAAI,CAACG,WAAW,CAACgE,CAAC,CAAClE,OAAO,CAAC,QAAA6B,MAAA,CADVqC,CAAC,CAACnE,OAAO,MAAA8B,MAAA,CAAIqC,CAAC,CAAClE,OAAO,MAAA6B,MAAA,CAAIsE,GAAG,CAEnE,CACN,CAAC,CACC,CACN,EACE,CAAC,CACL3F,UAAU,CAAC,QAAQ,CAAC,EAClB,CAAC,EACH,CAAC,cAENxI,KAAA,QAAKuJ,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBtJ,IAAA,OAAAsJ,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBxJ,KAAA,UAAAwJ,QAAA,eACEtJ,IAAA,UAAAsJ,QAAA,cACExJ,KAAA,OAAAwJ,QAAA,eACEtJ,IAAA,OAAAsJ,QAAA,CAAI,MAAI,CAAI,CAAC,cACbtJ,IAAA,OAAAsJ,QAAA,CAAI,QAAM,CAAI,CAAC,cACftJ,IAAA,OAAAsJ,QAAA,CAAI,QAAM,CAAI,CAAC,EACb,CAAC,CACA,CAAC,cACRtJ,IAAA,UAAAsJ,QAAA,CACG,CAAC,CAAA7H,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE+D,KAAK,GAAI,EAAE,EACnBmJ,KAAK,CAAC,CAAC,CACPzF,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAACU,MAAM,CAAGT,CAAC,CAACS,MAAM,CAAC,CACnCvC,GAAG,CAAEf,IAAI,eACRzG,KAAA,OAAAwJ,QAAA,eACEtJ,IAAA,OAAAsJ,QAAA,CAAK/C,IAAI,CAAC2B,IAAI,CAAK,CAAC,cACpBlI,IAAA,OAAAsJ,QAAA,CAAK/C,IAAI,CAACsD,MAAM,CAAK,CAAC,cACtB7J,IAAA,OAAAsJ,QAAA,CACG/C,IAAI,CAACX,UAAU,CACZ,YAAY,CACZW,IAAI,CAACsD,MAAM,GAAK,CAAC,CACjB,iBAAiB,CACjB,gBAAgB,CAClB,CAAC,GATEtD,IAAI,CAAC5F,EAUV,CACL,CAAC,CACC,CAAC,EACH,CAAC,EACL,CAAC,EACH,CAAC,cAENb,KAAA,QAAKuJ,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BtJ,IAAA,OAAAsJ,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBxJ,KAAA,WAAQ0M,KAAK,CAAEnI,YAAa,CAACoI,QAAQ,CAAGC,CAAC,EAAKpI,eAAe,CAACoI,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAlD,QAAA,eAC5EtJ,IAAA,WAAQwM,KAAK,CAAC,EAAE,CAAAlD,QAAA,CAAC,kBAAgB,CAAQ,CAAC,CACzC,CAAC,CAAA7H,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE+D,KAAK,GAAI,EAAE,EAAE8B,GAAG,CAAE3B,CAAC,eAC5B3F,IAAA,WAAmBwM,KAAK,CAAE7G,CAAC,CAAChF,EAAG,CAAA2I,QAAA,CAC5B3D,CAAC,CAACuC,IAAI,EADIvC,CAAC,CAAChF,EAEP,CACT,CAAC,EACI,CAAC,CACR0L,eAAe,cACdrM,IAAA,QAAKqJ,SAAS,CAAC,aAAa,CAAAC,QAAA,CACzB+C,eAAe,CAACJ,MAAM,cACrBjM,IAAA,QAAKqJ,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAE+C,eAAe,CAACJ,MAAM,CAAM,CAAC,cAErDnM,KAAA,QAAAwJ,QAAA,EAAK,cACS,CAAC+C,eAAe,CAAC5K,OAAO,CAAC,SAAO,CAAC4K,eAAe,CAACzD,KAAK,CAAC,KAAG,CAAC,GAAG,CACzEyD,eAAe,CAACR,QAAQ,EAAI,KAAK,EAC/B,CACN,CACE,CAAC,cAEN7L,IAAA,QAAKqJ,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,+BAA6B,CAAK,CAC1D,EACE,CAAC,EACH,CACN,CAEAgD,OAAO,eACNtM,IAAA,QAAKqJ,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBtJ,IAAA,WAAQqJ,SAAS,CAAC,WAAW,CAACkD,OAAO,CAAE1F,eAAgB,CAAAyC,QAAA,CAAC,YAExD,CAAQ,CAAC,CACN,CACN,cAEDtJ,IAAA,UAAO4O,GAAG,CAAErK,UAAW,CAACsK,GAAG,CAAC,qBAAqB,CAAE,CAAC,cACpD7O,IAAA,UAAO4O,GAAG,CAAEpK,QAAS,CAACqK,GAAG,CAAC,mBAAmB,CAAE,CAAC,cAChD7O,IAAA,UAAO4O,GAAG,CAAEnK,WAAY,CAACoK,GAAG,CAAC,uBAAuB,CAAE,CAAC,EACpD,CAAC,CAEV,CAEA,cAAe,CAAA/N,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}